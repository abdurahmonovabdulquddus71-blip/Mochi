"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["node_modules_vidstack_react_dev_chunks_vidstack-CoE5RD0i_js"],{

/***/ "./node_modules/@vidstack/react/dev/chunks/vidstack-CoE5RD0i.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@vidstack/react/dev/chunks/vidstack-CoE5RD0i.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   YouTubeProvider: function() { return /* binding */ YouTubeProvider; }\n/* harmony export */ });\n/* harmony import */ var _vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vidstack-D_bWd66h.js */ \"./node_modules/@vidstack/react/dev/chunks/vidstack-D_bWd66h.js\");\n/* harmony import */ var _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./vidstack-DUlCophs.js */ \"./node_modules/@vidstack/react/dev/chunks/vidstack-DUlCophs.js\");\n/* harmony import */ var _vidstack_D8t5kEKd_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vidstack-D8t5kEKd.js */ \"./node_modules/@vidstack/react/dev/chunks/vidstack-D8t5kEKd.js\");\n/* harmony import */ var _vidstack_Dm1xEU9Q_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./vidstack-Dm1xEU9Q.js */ \"./node_modules/@vidstack/react/dev/chunks/vidstack-Dm1xEU9Q.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\"use client\"\n\n;\n\n\n\n\n\n\nconst YouTubePlayerState = {\n  Ended: 0,\n  Playing: 1,\n  Paused: 2,\n  Buffering: 3,\n  Cued: 5\n};\n\nclass YouTubeProvider extends _vidstack_D8t5kEKd_js__WEBPACK_IMPORTED_MODULE_1__.EmbedProvider {\n  $$PROVIDER_TYPE = \"YOUTUBE\";\n  scope = (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.createScope)();\n  #ctx;\n  #videoId = (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.signal)(\"\");\n  #state = -1;\n  #currentSrc = null;\n  #seekingTimer = -1;\n  #invalidPlay = false;\n  #promises = /* @__PURE__ */ new Map();\n  constructor(iframe, ctx) {\n    super(iframe);\n    this.#ctx = ctx;\n  }\n  /**\n   * Sets the player's interface language. The parameter value is an ISO 639-1 two-letter\n   * language code or a fully specified locale. For example, fr and fr-ca are both valid values.\n   * Other language input codes, such as IETF language tags (BCP 47) might also be handled properly.\n   *\n   * The interface language is used for tooltips in the player and also affects the default caption\n   * track. Note that YouTube might select a different caption track language for a particular\n   * user based on the user's individual language preferences and the availability of caption tracks.\n   *\n   * @defaultValue 'en'\n   */\n  language = \"en\";\n  color = \"red\";\n  /**\n   * Whether cookies should be enabled on the embed. This is turned off by default to be\n   * GDPR-compliant.\n   *\n   * @defaultValue `false`\n   */\n  cookies = false;\n  get currentSrc() {\n    return this.#currentSrc;\n  }\n  get type() {\n    return \"youtube\";\n  }\n  get videoId() {\n    return this.#videoId();\n  }\n  preconnect() {\n    (0,_vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.preconnect)(this.getOrigin());\n  }\n  setup() {\n    super.setup();\n    (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.effect)(this.#watchVideoId.bind(this));\n    this.#ctx.notify(\"provider-setup\", this);\n  }\n  destroy() {\n    this.#reset();\n    const message = \"provider destroyed\";\n    for (const promises of this.#promises.values()) {\n      for (const { reject } of promises) reject(message);\n    }\n    this.#promises.clear();\n  }\n  async play() {\n    return this.#remote(\"playVideo\");\n  }\n  #playFail(message) {\n    this.#getPromise(\"playVideo\")?.reject(message);\n  }\n  async pause() {\n    return this.#remote(\"pauseVideo\");\n  }\n  #pauseFail(message) {\n    this.#getPromise(\"pauseVideo\")?.reject(message);\n  }\n  setMuted(muted) {\n    if (muted) this.#remote(\"mute\");\n    else this.#remote(\"unMute\");\n  }\n  setCurrentTime(time) {\n    this.#remote(\"seekTo\", time);\n    this.#ctx.notify(\"seeking\", time);\n  }\n  setVolume(volume) {\n    this.#remote(\"setVolume\", volume * 100);\n  }\n  setPlaybackRate(rate) {\n    this.#remote(\"setPlaybackRate\", rate);\n  }\n  async loadSource(src) {\n    if (!(0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.isString)(src.src)) {\n      this.#currentSrc = null;\n      this.#videoId.set(\"\");\n      return;\n    }\n    const videoId = (0,_vidstack_Dm1xEU9Q_js__WEBPACK_IMPORTED_MODULE_4__.resolveYouTubeVideoId)(src.src);\n    this.#videoId.set(videoId ?? \"\");\n    this.#currentSrc = src;\n  }\n  getOrigin() {\n    return !this.cookies ? \"https://www.youtube-nocookie.com\" : \"https://www.youtube.com\";\n  }\n  #watchVideoId() {\n    this.#reset();\n    const videoId = this.#videoId();\n    if (!videoId) {\n      this.src.set(\"\");\n      return;\n    }\n    this.src.set(`${this.getOrigin()}/embed/${videoId}`);\n    this.#ctx.notify(\"load-start\");\n  }\n  buildParams() {\n    const { keyDisabled } = this.#ctx.$props, { muted, playsInline, nativeControls } = this.#ctx.$state, showControls = nativeControls();\n    return {\n      rel: 0,\n      autoplay: 0,\n      cc_lang_pref: this.language,\n      cc_load_policy: showControls ? 1 : void 0,\n      color: this.color,\n      controls: showControls ? 1 : 0,\n      disablekb: !showControls || keyDisabled() ? 1 : 0,\n      enablejsapi: 1,\n      fs: 1,\n      hl: this.language,\n      iv_load_policy: showControls ? 1 : 3,\n      mute: muted() ? 1 : 0,\n      playsinline: playsInline() ? 1 : 0\n    };\n  }\n  #remote(command, arg) {\n    let promise = (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.deferredPromise)(), promises = this.#promises.get(command);\n    if (!promises) this.#promises.set(command, promises = []);\n    promises.push(promise);\n    this.postMessage({\n      event: \"command\",\n      func: command,\n      args: arg ? [arg] : void 0\n    });\n    return promise.promise;\n  }\n  onLoad() {\n    window.setTimeout(() => this.postMessage({ event: \"listening\" }), 100);\n  }\n  #onReady(trigger) {\n    this.#ctx.notify(\"loaded-metadata\");\n    this.#ctx.notify(\"loaded-data\");\n    this.#ctx.delegate.ready(void 0, trigger);\n  }\n  #onPause(trigger) {\n    this.#getPromise(\"pauseVideo\")?.resolve();\n    this.#ctx.notify(\"pause\", void 0, trigger);\n  }\n  #onTimeUpdate(time, trigger) {\n    const { duration, realCurrentTime } = this.#ctx.$state, hasEnded = this.#state === YouTubePlayerState.Ended, boundTime = hasEnded ? duration() : time;\n    this.#ctx.notify(\"time-change\", boundTime, trigger);\n    if (!hasEnded && Math.abs(boundTime - realCurrentTime()) > 1) {\n      this.#ctx.notify(\"seeking\", boundTime, trigger);\n    }\n  }\n  #onProgress(buffered, seekable, trigger) {\n    const detail = {\n      buffered: new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.TimeRange(0, buffered),\n      seekable\n    };\n    this.#ctx.notify(\"progress\", detail, trigger);\n    const { seeking, realCurrentTime } = this.#ctx.$state;\n    if (seeking() && buffered > realCurrentTime()) {\n      this.#onSeeked(trigger);\n    }\n  }\n  #onSeeked(trigger) {\n    const { paused, realCurrentTime } = this.#ctx.$state;\n    window.clearTimeout(this.#seekingTimer);\n    this.#seekingTimer = window.setTimeout(\n      () => {\n        this.#ctx.notify(\"seeked\", realCurrentTime(), trigger);\n        this.#seekingTimer = -1;\n      },\n      paused() ? 100 : 0\n    );\n  }\n  #onEnded(trigger) {\n    const { seeking } = this.#ctx.$state;\n    if (seeking()) this.#onSeeked(trigger);\n    this.#ctx.notify(\"pause\", void 0, trigger);\n    this.#ctx.notify(\"end\", void 0, trigger);\n  }\n  #onStateChange(state, trigger) {\n    const { paused, seeking } = this.#ctx.$state, isPlaying = state === YouTubePlayerState.Playing, isBuffering = state === YouTubePlayerState.Buffering, isPendingPlay = this.#isPending(\"playVideo\"), isPlay = paused() && (isBuffering || isPlaying);\n    if (isBuffering) this.#ctx.notify(\"waiting\", void 0, trigger);\n    if (seeking() && isPlaying) {\n      this.#onSeeked(trigger);\n    }\n    if (this.#invalidPlay && isPlaying) {\n      this.pause();\n      this.#invalidPlay = false;\n      this.setMuted(this.#ctx.$state.muted());\n      return;\n    }\n    if (!isPendingPlay && isPlay) {\n      this.#invalidPlay = true;\n      this.setMuted(true);\n      return;\n    }\n    if (isPlay) {\n      this.#getPromise(\"playVideo\")?.resolve();\n      this.#ctx.notify(\"play\", void 0, trigger);\n    }\n    switch (state) {\n      case YouTubePlayerState.Cued:\n        this.#onReady(trigger);\n        break;\n      case YouTubePlayerState.Playing:\n        this.#ctx.notify(\"playing\", void 0, trigger);\n        break;\n      case YouTubePlayerState.Paused:\n        this.#onPause(trigger);\n        break;\n      case YouTubePlayerState.Ended:\n        this.#onEnded(trigger);\n        break;\n    }\n    this.#state = state;\n  }\n  onMessage({ info }, event) {\n    if (!info) return;\n    const { title, intrinsicDuration, playbackRate } = this.#ctx.$state;\n    if ((0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(info.videoData) && info.videoData.title !== title()) {\n      this.#ctx.notify(\"title-change\", info.videoData.title, event);\n    }\n    if ((0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.isNumber)(info.duration) && info.duration !== intrinsicDuration()) {\n      if ((0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.isNumber)(info.videoLoadedFraction)) {\n        const buffered = info.progressState?.loaded ?? info.videoLoadedFraction * info.duration, seekable = new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.TimeRange(0, info.duration);\n        this.#onProgress(buffered, seekable, event);\n      }\n      this.#ctx.notify(\"duration-change\", info.duration, event);\n    }\n    if ((0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.isNumber)(info.playbackRate) && info.playbackRate !== playbackRate()) {\n      this.#ctx.notify(\"rate-change\", info.playbackRate, event);\n    }\n    if (info.progressState) {\n      const { current, seekableStart, seekableEnd, loaded, duration } = info.progressState;\n      this.#onTimeUpdate(current, event);\n      this.#onProgress(loaded, new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.TimeRange(seekableStart, seekableEnd), event);\n      if (duration !== intrinsicDuration()) {\n        this.#ctx.notify(\"duration-change\", duration, event);\n      }\n    }\n    if ((0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.isNumber)(info.volume) && (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.isBoolean)(info.muted) && !this.#invalidPlay) {\n      const detail = {\n        muted: info.muted,\n        volume: info.volume / 100\n      };\n      this.#ctx.notify(\"volume-change\", detail, event);\n    }\n    if ((0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.isNumber)(info.playerState) && info.playerState !== this.#state) {\n      this.#onStateChange(info.playerState, event);\n    }\n  }\n  #reset() {\n    this.#state = -1;\n    this.#seekingTimer = -1;\n    this.#invalidPlay = false;\n  }\n  #getPromise(command) {\n    return this.#promises.get(command)?.shift();\n  }\n  #isPending(command) {\n    return Boolean(this.#promises.get(command)?.length);\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpZHN0YWNrL3JlYWN0L2Rldi9jaHVua3Mvdmlkc3RhY2stQ29FNVJEMGkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBRUEsQ0FBK0g7QUFDaEU7QUFDUjtBQUNRO0FBQ2hEO0FBQ1c7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDhCQUE4QixnRUFBYTtBQUMzQztBQUNBLFVBQVUsa0VBQVc7QUFDckI7QUFDQSxhQUFhLDZEQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksaUVBQVU7QUFDZDtBQUNBO0FBQ0E7QUFDQSxJQUFJLDZEQUFNO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFNBQVM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywrREFBUTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0RUFBcUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCLFNBQVMsUUFBUTtBQUN0RDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWMsc0JBQXNCLHFDQUFxQztBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNFQUFlO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0Msb0JBQW9CO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDRCQUE0QjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0REFBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJCQUEyQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwQkFBMEI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQkFBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsTUFBTTtBQUNwQjtBQUNBLFlBQVkseUNBQXlDO0FBQ3JELFFBQVEsK0RBQVE7QUFDaEI7QUFDQTtBQUNBLFFBQVEsK0RBQVE7QUFDaEIsVUFBVSwrREFBUTtBQUNsQixnSEFBZ0gsNERBQVM7QUFDekg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtEQUFRO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLGNBQWMsd0RBQXdEO0FBQ3RFO0FBQ0EsbUNBQW1DLDREQUFTO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrREFBUSxpQkFBaUIsZ0VBQVM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrREFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9Admlkc3RhY2svcmVhY3QvZGV2L2NodW5rcy92aWRzdGFjay1Db0U1UkQwaS5qcz81YjMzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IGNyZWF0ZVNjb3BlLCBzaWduYWwsIGVmZmVjdCwgaXNTdHJpbmcsIGRlZmVycmVkUHJvbWlzZSwgaXNPYmplY3QsIGlzTnVtYmVyLCBpc0Jvb2xlYW4gfSBmcm9tICcuL3ZpZHN0YWNrLURfYldkNjZoLmpzJztcbmltcG9ydCB7IHByZWNvbm5lY3QsIFRpbWVSYW5nZSB9IGZyb20gJy4vdmlkc3RhY2stRFVsQ29waHMuanMnO1xuaW1wb3J0IHsgRW1iZWRQcm92aWRlciB9IGZyb20gJy4vdmlkc3RhY2stRDh0NWtFS2QuanMnO1xuaW1wb3J0IHsgcmVzb2x2ZVlvdVR1YmVWaWRlb0lkIH0gZnJvbSAnLi92aWRzdGFjay1EbTF4RVU5US5qcyc7XG5pbXBvcnQgJ3JlYWN0JztcbmltcG9ydCAnQGZsb2F0aW5nLXVpL2RvbSc7XG5cbmNvbnN0IFlvdVR1YmVQbGF5ZXJTdGF0ZSA9IHtcbiAgRW5kZWQ6IDAsXG4gIFBsYXlpbmc6IDEsXG4gIFBhdXNlZDogMixcbiAgQnVmZmVyaW5nOiAzLFxuICBDdWVkOiA1XG59O1xuXG5jbGFzcyBZb3VUdWJlUHJvdmlkZXIgZXh0ZW5kcyBFbWJlZFByb3ZpZGVyIHtcbiAgJCRQUk9WSURFUl9UWVBFID0gXCJZT1VUVUJFXCI7XG4gIHNjb3BlID0gY3JlYXRlU2NvcGUoKTtcbiAgI2N0eDtcbiAgI3ZpZGVvSWQgPSBzaWduYWwoXCJcIik7XG4gICNzdGF0ZSA9IC0xO1xuICAjY3VycmVudFNyYyA9IG51bGw7XG4gICNzZWVraW5nVGltZXIgPSAtMTtcbiAgI2ludmFsaWRQbGF5ID0gZmFsc2U7XG4gICNwcm9taXNlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0cnVjdG9yKGlmcmFtZSwgY3R4KSB7XG4gICAgc3VwZXIoaWZyYW1lKTtcbiAgICB0aGlzLiNjdHggPSBjdHg7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHBsYXllcidzIGludGVyZmFjZSBsYW5ndWFnZS4gVGhlIHBhcmFtZXRlciB2YWx1ZSBpcyBhbiBJU08gNjM5LTEgdHdvLWxldHRlclxuICAgKiBsYW5ndWFnZSBjb2RlIG9yIGEgZnVsbHkgc3BlY2lmaWVkIGxvY2FsZS4gRm9yIGV4YW1wbGUsIGZyIGFuZCBmci1jYSBhcmUgYm90aCB2YWxpZCB2YWx1ZXMuXG4gICAqIE90aGVyIGxhbmd1YWdlIGlucHV0IGNvZGVzLCBzdWNoIGFzIElFVEYgbGFuZ3VhZ2UgdGFncyAoQkNQIDQ3KSBtaWdodCBhbHNvIGJlIGhhbmRsZWQgcHJvcGVybHkuXG4gICAqXG4gICAqIFRoZSBpbnRlcmZhY2UgbGFuZ3VhZ2UgaXMgdXNlZCBmb3IgdG9vbHRpcHMgaW4gdGhlIHBsYXllciBhbmQgYWxzbyBhZmZlY3RzIHRoZSBkZWZhdWx0IGNhcHRpb25cbiAgICogdHJhY2suIE5vdGUgdGhhdCBZb3VUdWJlIG1pZ2h0IHNlbGVjdCBhIGRpZmZlcmVudCBjYXB0aW9uIHRyYWNrIGxhbmd1YWdlIGZvciBhIHBhcnRpY3VsYXJcbiAgICogdXNlciBiYXNlZCBvbiB0aGUgdXNlcidzIGluZGl2aWR1YWwgbGFuZ3VhZ2UgcHJlZmVyZW5jZXMgYW5kIHRoZSBhdmFpbGFiaWxpdHkgb2YgY2FwdGlvbiB0cmFja3MuXG4gICAqXG4gICAqIEBkZWZhdWx0VmFsdWUgJ2VuJ1xuICAgKi9cbiAgbGFuZ3VhZ2UgPSBcImVuXCI7XG4gIGNvbG9yID0gXCJyZWRcIjtcbiAgLyoqXG4gICAqIFdoZXRoZXIgY29va2llcyBzaG91bGQgYmUgZW5hYmxlZCBvbiB0aGUgZW1iZWQuIFRoaXMgaXMgdHVybmVkIG9mZiBieSBkZWZhdWx0IHRvIGJlXG4gICAqIEdEUFItY29tcGxpYW50LlxuICAgKlxuICAgKiBAZGVmYXVsdFZhbHVlIGBmYWxzZWBcbiAgICovXG4gIGNvb2tpZXMgPSBmYWxzZTtcbiAgZ2V0IGN1cnJlbnRTcmMoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2N1cnJlbnRTcmM7XG4gIH1cbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIFwieW91dHViZVwiO1xuICB9XG4gIGdldCB2aWRlb0lkKCkge1xuICAgIHJldHVybiB0aGlzLiN2aWRlb0lkKCk7XG4gIH1cbiAgcHJlY29ubmVjdCgpIHtcbiAgICBwcmVjb25uZWN0KHRoaXMuZ2V0T3JpZ2luKCkpO1xuICB9XG4gIHNldHVwKCkge1xuICAgIHN1cGVyLnNldHVwKCk7XG4gICAgZWZmZWN0KHRoaXMuI3dhdGNoVmlkZW9JZC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLiNjdHgubm90aWZ5KFwicHJvdmlkZXItc2V0dXBcIiwgdGhpcyk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLiNyZXNldCgpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBcInByb3ZpZGVyIGRlc3Ryb3llZFwiO1xuICAgIGZvciAoY29uc3QgcHJvbWlzZXMgb2YgdGhpcy4jcHJvbWlzZXMudmFsdWVzKCkpIHtcbiAgICAgIGZvciAoY29uc3QgeyByZWplY3QgfSBvZiBwcm9taXNlcykgcmVqZWN0KG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0aGlzLiNwcm9taXNlcy5jbGVhcigpO1xuICB9XG4gIGFzeW5jIHBsYXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3JlbW90ZShcInBsYXlWaWRlb1wiKTtcbiAgfVxuICAjcGxheUZhaWwobWVzc2FnZSkge1xuICAgIHRoaXMuI2dldFByb21pc2UoXCJwbGF5VmlkZW9cIik/LnJlamVjdChtZXNzYWdlKTtcbiAgfVxuICBhc3luYyBwYXVzZSgpIHtcbiAgICByZXR1cm4gdGhpcy4jcmVtb3RlKFwicGF1c2VWaWRlb1wiKTtcbiAgfVxuICAjcGF1c2VGYWlsKG1lc3NhZ2UpIHtcbiAgICB0aGlzLiNnZXRQcm9taXNlKFwicGF1c2VWaWRlb1wiKT8ucmVqZWN0KG1lc3NhZ2UpO1xuICB9XG4gIHNldE11dGVkKG11dGVkKSB7XG4gICAgaWYgKG11dGVkKSB0aGlzLiNyZW1vdGUoXCJtdXRlXCIpO1xuICAgIGVsc2UgdGhpcy4jcmVtb3RlKFwidW5NdXRlXCIpO1xuICB9XG4gIHNldEN1cnJlbnRUaW1lKHRpbWUpIHtcbiAgICB0aGlzLiNyZW1vdGUoXCJzZWVrVG9cIiwgdGltZSk7XG4gICAgdGhpcy4jY3R4Lm5vdGlmeShcInNlZWtpbmdcIiwgdGltZSk7XG4gIH1cbiAgc2V0Vm9sdW1lKHZvbHVtZSkge1xuICAgIHRoaXMuI3JlbW90ZShcInNldFZvbHVtZVwiLCB2b2x1bWUgKiAxMDApO1xuICB9XG4gIHNldFBsYXliYWNrUmF0ZShyYXRlKSB7XG4gICAgdGhpcy4jcmVtb3RlKFwic2V0UGxheWJhY2tSYXRlXCIsIHJhdGUpO1xuICB9XG4gIGFzeW5jIGxvYWRTb3VyY2Uoc3JjKSB7XG4gICAgaWYgKCFpc1N0cmluZyhzcmMuc3JjKSkge1xuICAgICAgdGhpcy4jY3VycmVudFNyYyA9IG51bGw7XG4gICAgICB0aGlzLiN2aWRlb0lkLnNldChcIlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdmlkZW9JZCA9IHJlc29sdmVZb3VUdWJlVmlkZW9JZChzcmMuc3JjKTtcbiAgICB0aGlzLiN2aWRlb0lkLnNldCh2aWRlb0lkID8/IFwiXCIpO1xuICAgIHRoaXMuI2N1cnJlbnRTcmMgPSBzcmM7XG4gIH1cbiAgZ2V0T3JpZ2luKCkge1xuICAgIHJldHVybiAhdGhpcy5jb29raWVzID8gXCJodHRwczovL3d3dy55b3V0dWJlLW5vY29va2llLmNvbVwiIDogXCJodHRwczovL3d3dy55b3V0dWJlLmNvbVwiO1xuICB9XG4gICN3YXRjaFZpZGVvSWQoKSB7XG4gICAgdGhpcy4jcmVzZXQoKTtcbiAgICBjb25zdCB2aWRlb0lkID0gdGhpcy4jdmlkZW9JZCgpO1xuICAgIGlmICghdmlkZW9JZCkge1xuICAgICAgdGhpcy5zcmMuc2V0KFwiXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNyYy5zZXQoYCR7dGhpcy5nZXRPcmlnaW4oKX0vZW1iZWQvJHt2aWRlb0lkfWApO1xuICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJsb2FkLXN0YXJ0XCIpO1xuICB9XG4gIGJ1aWxkUGFyYW1zKCkge1xuICAgIGNvbnN0IHsga2V5RGlzYWJsZWQgfSA9IHRoaXMuI2N0eC4kcHJvcHMsIHsgbXV0ZWQsIHBsYXlzSW5saW5lLCBuYXRpdmVDb250cm9scyB9ID0gdGhpcy4jY3R4LiRzdGF0ZSwgc2hvd0NvbnRyb2xzID0gbmF0aXZlQ29udHJvbHMoKTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVsOiAwLFxuICAgICAgYXV0b3BsYXk6IDAsXG4gICAgICBjY19sYW5nX3ByZWY6IHRoaXMubGFuZ3VhZ2UsXG4gICAgICBjY19sb2FkX3BvbGljeTogc2hvd0NvbnRyb2xzID8gMSA6IHZvaWQgMCxcbiAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLFxuICAgICAgY29udHJvbHM6IHNob3dDb250cm9scyA/IDEgOiAwLFxuICAgICAgZGlzYWJsZWtiOiAhc2hvd0NvbnRyb2xzIHx8IGtleURpc2FibGVkKCkgPyAxIDogMCxcbiAgICAgIGVuYWJsZWpzYXBpOiAxLFxuICAgICAgZnM6IDEsXG4gICAgICBobDogdGhpcy5sYW5ndWFnZSxcbiAgICAgIGl2X2xvYWRfcG9saWN5OiBzaG93Q29udHJvbHMgPyAxIDogMyxcbiAgICAgIG11dGU6IG11dGVkKCkgPyAxIDogMCxcbiAgICAgIHBsYXlzaW5saW5lOiBwbGF5c0lubGluZSgpID8gMSA6IDBcbiAgICB9O1xuICB9XG4gICNyZW1vdGUoY29tbWFuZCwgYXJnKSB7XG4gICAgbGV0IHByb21pc2UgPSBkZWZlcnJlZFByb21pc2UoKSwgcHJvbWlzZXMgPSB0aGlzLiNwcm9taXNlcy5nZXQoY29tbWFuZCk7XG4gICAgaWYgKCFwcm9taXNlcykgdGhpcy4jcHJvbWlzZXMuc2V0KGNvbW1hbmQsIHByb21pc2VzID0gW10pO1xuICAgIHByb21pc2VzLnB1c2gocHJvbWlzZSk7XG4gICAgdGhpcy5wb3N0TWVzc2FnZSh7XG4gICAgICBldmVudDogXCJjb21tYW5kXCIsXG4gICAgICBmdW5jOiBjb21tYW5kLFxuICAgICAgYXJnczogYXJnID8gW2FyZ10gOiB2b2lkIDBcbiAgICB9KTtcbiAgICByZXR1cm4gcHJvbWlzZS5wcm9taXNlO1xuICB9XG4gIG9uTG9hZCgpIHtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLnBvc3RNZXNzYWdlKHsgZXZlbnQ6IFwibGlzdGVuaW5nXCIgfSksIDEwMCk7XG4gIH1cbiAgI29uUmVhZHkodHJpZ2dlcikge1xuICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJsb2FkZWQtbWV0YWRhdGFcIik7XG4gICAgdGhpcy4jY3R4Lm5vdGlmeShcImxvYWRlZC1kYXRhXCIpO1xuICAgIHRoaXMuI2N0eC5kZWxlZ2F0ZS5yZWFkeSh2b2lkIDAsIHRyaWdnZXIpO1xuICB9XG4gICNvblBhdXNlKHRyaWdnZXIpIHtcbiAgICB0aGlzLiNnZXRQcm9taXNlKFwicGF1c2VWaWRlb1wiKT8ucmVzb2x2ZSgpO1xuICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJwYXVzZVwiLCB2b2lkIDAsIHRyaWdnZXIpO1xuICB9XG4gICNvblRpbWVVcGRhdGUodGltZSwgdHJpZ2dlcikge1xuICAgIGNvbnN0IHsgZHVyYXRpb24sIHJlYWxDdXJyZW50VGltZSB9ID0gdGhpcy4jY3R4LiRzdGF0ZSwgaGFzRW5kZWQgPSB0aGlzLiNzdGF0ZSA9PT0gWW91VHViZVBsYXllclN0YXRlLkVuZGVkLCBib3VuZFRpbWUgPSBoYXNFbmRlZCA/IGR1cmF0aW9uKCkgOiB0aW1lO1xuICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJ0aW1lLWNoYW5nZVwiLCBib3VuZFRpbWUsIHRyaWdnZXIpO1xuICAgIGlmICghaGFzRW5kZWQgJiYgTWF0aC5hYnMoYm91bmRUaW1lIC0gcmVhbEN1cnJlbnRUaW1lKCkpID4gMSkge1xuICAgICAgdGhpcy4jY3R4Lm5vdGlmeShcInNlZWtpbmdcIiwgYm91bmRUaW1lLCB0cmlnZ2VyKTtcbiAgICB9XG4gIH1cbiAgI29uUHJvZ3Jlc3MoYnVmZmVyZWQsIHNlZWthYmxlLCB0cmlnZ2VyKSB7XG4gICAgY29uc3QgZGV0YWlsID0ge1xuICAgICAgYnVmZmVyZWQ6IG5ldyBUaW1lUmFuZ2UoMCwgYnVmZmVyZWQpLFxuICAgICAgc2Vla2FibGVcbiAgICB9O1xuICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJwcm9ncmVzc1wiLCBkZXRhaWwsIHRyaWdnZXIpO1xuICAgIGNvbnN0IHsgc2Vla2luZywgcmVhbEN1cnJlbnRUaW1lIH0gPSB0aGlzLiNjdHguJHN0YXRlO1xuICAgIGlmIChzZWVraW5nKCkgJiYgYnVmZmVyZWQgPiByZWFsQ3VycmVudFRpbWUoKSkge1xuICAgICAgdGhpcy4jb25TZWVrZWQodHJpZ2dlcik7XG4gICAgfVxuICB9XG4gICNvblNlZWtlZCh0cmlnZ2VyKSB7XG4gICAgY29uc3QgeyBwYXVzZWQsIHJlYWxDdXJyZW50VGltZSB9ID0gdGhpcy4jY3R4LiRzdGF0ZTtcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuI3NlZWtpbmdUaW1lcik7XG4gICAgdGhpcy4jc2Vla2luZ1RpbWVyID0gd2luZG93LnNldFRpbWVvdXQoXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJzZWVrZWRcIiwgcmVhbEN1cnJlbnRUaW1lKCksIHRyaWdnZXIpO1xuICAgICAgICB0aGlzLiNzZWVraW5nVGltZXIgPSAtMTtcbiAgICAgIH0sXG4gICAgICBwYXVzZWQoKSA/IDEwMCA6IDBcbiAgICApO1xuICB9XG4gICNvbkVuZGVkKHRyaWdnZXIpIHtcbiAgICBjb25zdCB7IHNlZWtpbmcgfSA9IHRoaXMuI2N0eC4kc3RhdGU7XG4gICAgaWYgKHNlZWtpbmcoKSkgdGhpcy4jb25TZWVrZWQodHJpZ2dlcik7XG4gICAgdGhpcy4jY3R4Lm5vdGlmeShcInBhdXNlXCIsIHZvaWQgMCwgdHJpZ2dlcik7XG4gICAgdGhpcy4jY3R4Lm5vdGlmeShcImVuZFwiLCB2b2lkIDAsIHRyaWdnZXIpO1xuICB9XG4gICNvblN0YXRlQ2hhbmdlKHN0YXRlLCB0cmlnZ2VyKSB7XG4gICAgY29uc3QgeyBwYXVzZWQsIHNlZWtpbmcgfSA9IHRoaXMuI2N0eC4kc3RhdGUsIGlzUGxheWluZyA9IHN0YXRlID09PSBZb3VUdWJlUGxheWVyU3RhdGUuUGxheWluZywgaXNCdWZmZXJpbmcgPSBzdGF0ZSA9PT0gWW91VHViZVBsYXllclN0YXRlLkJ1ZmZlcmluZywgaXNQZW5kaW5nUGxheSA9IHRoaXMuI2lzUGVuZGluZyhcInBsYXlWaWRlb1wiKSwgaXNQbGF5ID0gcGF1c2VkKCkgJiYgKGlzQnVmZmVyaW5nIHx8IGlzUGxheWluZyk7XG4gICAgaWYgKGlzQnVmZmVyaW5nKSB0aGlzLiNjdHgubm90aWZ5KFwid2FpdGluZ1wiLCB2b2lkIDAsIHRyaWdnZXIpO1xuICAgIGlmIChzZWVraW5nKCkgJiYgaXNQbGF5aW5nKSB7XG4gICAgICB0aGlzLiNvblNlZWtlZCh0cmlnZ2VyKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuI2ludmFsaWRQbGF5ICYmIGlzUGxheWluZykge1xuICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgdGhpcy4jaW52YWxpZFBsYXkgPSBmYWxzZTtcbiAgICAgIHRoaXMuc2V0TXV0ZWQodGhpcy4jY3R4LiRzdGF0ZS5tdXRlZCgpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpc1BlbmRpbmdQbGF5ICYmIGlzUGxheSkge1xuICAgICAgdGhpcy4jaW52YWxpZFBsYXkgPSB0cnVlO1xuICAgICAgdGhpcy5zZXRNdXRlZCh0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzUGxheSkge1xuICAgICAgdGhpcy4jZ2V0UHJvbWlzZShcInBsYXlWaWRlb1wiKT8ucmVzb2x2ZSgpO1xuICAgICAgdGhpcy4jY3R4Lm5vdGlmeShcInBsYXlcIiwgdm9pZCAwLCB0cmlnZ2VyKTtcbiAgICB9XG4gICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgY2FzZSBZb3VUdWJlUGxheWVyU3RhdGUuQ3VlZDpcbiAgICAgICAgdGhpcy4jb25SZWFkeSh0cmlnZ2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFlvdVR1YmVQbGF5ZXJTdGF0ZS5QbGF5aW5nOlxuICAgICAgICB0aGlzLiNjdHgubm90aWZ5KFwicGxheWluZ1wiLCB2b2lkIDAsIHRyaWdnZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgWW91VHViZVBsYXllclN0YXRlLlBhdXNlZDpcbiAgICAgICAgdGhpcy4jb25QYXVzZSh0cmlnZ2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFlvdVR1YmVQbGF5ZXJTdGF0ZS5FbmRlZDpcbiAgICAgICAgdGhpcy4jb25FbmRlZCh0cmlnZ2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMuI3N0YXRlID0gc3RhdGU7XG4gIH1cbiAgb25NZXNzYWdlKHsgaW5mbyB9LCBldmVudCkge1xuICAgIGlmICghaW5mbykgcmV0dXJuO1xuICAgIGNvbnN0IHsgdGl0bGUsIGludHJpbnNpY0R1cmF0aW9uLCBwbGF5YmFja1JhdGUgfSA9IHRoaXMuI2N0eC4kc3RhdGU7XG4gICAgaWYgKGlzT2JqZWN0KGluZm8udmlkZW9EYXRhKSAmJiBpbmZvLnZpZGVvRGF0YS50aXRsZSAhPT0gdGl0bGUoKSkge1xuICAgICAgdGhpcy4jY3R4Lm5vdGlmeShcInRpdGxlLWNoYW5nZVwiLCBpbmZvLnZpZGVvRGF0YS50aXRsZSwgZXZlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoaW5mby5kdXJhdGlvbikgJiYgaW5mby5kdXJhdGlvbiAhPT0gaW50cmluc2ljRHVyYXRpb24oKSkge1xuICAgICAgaWYgKGlzTnVtYmVyKGluZm8udmlkZW9Mb2FkZWRGcmFjdGlvbikpIHtcbiAgICAgICAgY29uc3QgYnVmZmVyZWQgPSBpbmZvLnByb2dyZXNzU3RhdGU/LmxvYWRlZCA/PyBpbmZvLnZpZGVvTG9hZGVkRnJhY3Rpb24gKiBpbmZvLmR1cmF0aW9uLCBzZWVrYWJsZSA9IG5ldyBUaW1lUmFuZ2UoMCwgaW5mby5kdXJhdGlvbik7XG4gICAgICAgIHRoaXMuI29uUHJvZ3Jlc3MoYnVmZmVyZWQsIHNlZWthYmxlLCBldmVudCk7XG4gICAgICB9XG4gICAgICB0aGlzLiNjdHgubm90aWZ5KFwiZHVyYXRpb24tY2hhbmdlXCIsIGluZm8uZHVyYXRpb24sIGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKGluZm8ucGxheWJhY2tSYXRlKSAmJiBpbmZvLnBsYXliYWNrUmF0ZSAhPT0gcGxheWJhY2tSYXRlKCkpIHtcbiAgICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJyYXRlLWNoYW5nZVwiLCBpbmZvLnBsYXliYWNrUmF0ZSwgZXZlbnQpO1xuICAgIH1cbiAgICBpZiAoaW5mby5wcm9ncmVzc1N0YXRlKSB7XG4gICAgICBjb25zdCB7IGN1cnJlbnQsIHNlZWthYmxlU3RhcnQsIHNlZWthYmxlRW5kLCBsb2FkZWQsIGR1cmF0aW9uIH0gPSBpbmZvLnByb2dyZXNzU3RhdGU7XG4gICAgICB0aGlzLiNvblRpbWVVcGRhdGUoY3VycmVudCwgZXZlbnQpO1xuICAgICAgdGhpcy4jb25Qcm9ncmVzcyhsb2FkZWQsIG5ldyBUaW1lUmFuZ2Uoc2Vla2FibGVTdGFydCwgc2Vla2FibGVFbmQpLCBldmVudCk7XG4gICAgICBpZiAoZHVyYXRpb24gIT09IGludHJpbnNpY0R1cmF0aW9uKCkpIHtcbiAgICAgICAgdGhpcy4jY3R4Lm5vdGlmeShcImR1cmF0aW9uLWNoYW5nZVwiLCBkdXJhdGlvbiwgZXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoaW5mby52b2x1bWUpICYmIGlzQm9vbGVhbihpbmZvLm11dGVkKSAmJiAhdGhpcy4jaW52YWxpZFBsYXkpIHtcbiAgICAgIGNvbnN0IGRldGFpbCA9IHtcbiAgICAgICAgbXV0ZWQ6IGluZm8ubXV0ZWQsXG4gICAgICAgIHZvbHVtZTogaW5mby52b2x1bWUgLyAxMDBcbiAgICAgIH07XG4gICAgICB0aGlzLiNjdHgubm90aWZ5KFwidm9sdW1lLWNoYW5nZVwiLCBkZXRhaWwsIGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKGluZm8ucGxheWVyU3RhdGUpICYmIGluZm8ucGxheWVyU3RhdGUgIT09IHRoaXMuI3N0YXRlKSB7XG4gICAgICB0aGlzLiNvblN0YXRlQ2hhbmdlKGluZm8ucGxheWVyU3RhdGUsIGV2ZW50KTtcbiAgICB9XG4gIH1cbiAgI3Jlc2V0KCkge1xuICAgIHRoaXMuI3N0YXRlID0gLTE7XG4gICAgdGhpcy4jc2Vla2luZ1RpbWVyID0gLTE7XG4gICAgdGhpcy4jaW52YWxpZFBsYXkgPSBmYWxzZTtcbiAgfVxuICAjZ2V0UHJvbWlzZShjb21tYW5kKSB7XG4gICAgcmV0dXJuIHRoaXMuI3Byb21pc2VzLmdldChjb21tYW5kKT8uc2hpZnQoKTtcbiAgfVxuICAjaXNQZW5kaW5nKGNvbW1hbmQpIHtcbiAgICByZXR1cm4gQm9vbGVhbih0aGlzLiNwcm9taXNlcy5nZXQoY29tbWFuZCk/Lmxlbmd0aCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgWW91VHViZVByb3ZpZGVyIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vidstack/react/dev/chunks/vidstack-CoE5RD0i.js\n"));

/***/ }),

/***/ "./node_modules/@vidstack/react/dev/chunks/vidstack-D8t5kEKd.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@vidstack/react/dev/chunks/vidstack-D8t5kEKd.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmbedProvider: function() { return /* binding */ EmbedProvider; }\n/* harmony export */ });\n/* harmony import */ var _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vidstack-DUlCophs.js */ \"./node_modules/@vidstack/react/dev/chunks/vidstack-DUlCophs.js\");\n/* harmony import */ var _vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vidstack-D_bWd66h.js */ \"./node_modules/@vidstack/react/dev/chunks/vidstack-D_bWd66h.js\");\n\"use client\"\n\n;\n\n\nclass EmbedProvider {\n  #iframe;\n  src = (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_0__.signal)(\"\");\n  /**\n   * Defines which referrer is sent when fetching the resource.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/referrerPolicy}\n   */\n  referrerPolicy = null;\n  get iframe() {\n    return this.#iframe;\n  }\n  constructor(iframe) {\n    this.#iframe = iframe;\n    iframe.setAttribute(\"frameBorder\", \"0\");\n    iframe.setAttribute(\"aria-hidden\", \"true\");\n    iframe.setAttribute(\n      \"allow\",\n      \"autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope\"\n    );\n    if (this.referrerPolicy !== null) {\n      iframe.setAttribute(\"referrerpolicy\", this.referrerPolicy);\n    }\n  }\n  setup() {\n    (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_0__.listenEvent)(window, \"message\", this.#onWindowMessage.bind(this));\n    (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_0__.listenEvent)(this.#iframe, \"load\", this.onLoad.bind(this));\n    (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_0__.effect)(this.#watchSrc.bind(this));\n  }\n  #watchSrc() {\n    const src = this.src();\n    if (!src.length) {\n      this.#iframe.setAttribute(\"src\", \"\");\n      return;\n    }\n    const params = (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_0__.peek)(() => this.buildParams());\n    this.#iframe.setAttribute(\"src\", (0,_vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_1__.appendParamsToURL)(src, params));\n  }\n  postMessage(message, target) {\n    if (_vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_1__.IS_SERVER) return;\n    this.#iframe.contentWindow?.postMessage(JSON.stringify(message), target ?? \"*\");\n  }\n  #onWindowMessage(event) {\n    const origin = this.getOrigin(), isOriginMatch = (event.source === null || event.source === this.#iframe?.contentWindow) && (!(0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_0__.isString)(origin) || origin === event.origin);\n    if (!isOriginMatch) return;\n    try {\n      const message = JSON.parse(event.data);\n      if (message) this.onMessage(message, event);\n      return;\n    } catch (e) {\n    }\n    if (event.data) this.onMessage(event.data, event);\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpZHN0YWNrL3JlYWN0L2Rldi9jaHVua3Mvdmlkc3RhY2stRDh0NWtFS2QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBRUEsQ0FBc0U7QUFDZTs7QUFFckY7QUFDQTtBQUNBLFFBQVEsNkRBQU07QUFDZDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixZQUFZLGlCQUFpQixvQkFBb0IsZUFBZTtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGtFQUFXO0FBQ2YsSUFBSSxrRUFBVztBQUNmLElBQUksNkRBQU07QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwyREFBSTtBQUN2QixxQ0FBcUMsd0VBQWlCO0FBQ3REO0FBQ0E7QUFDQSxRQUFRLDREQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGtJQUFrSSwrREFBUTtBQUMxSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUV5QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpZHN0YWNrL3JlYWN0L2Rldi9jaHVua3Mvdmlkc3RhY2stRDh0NWtFS2QuanM/NTM4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyBhcHBlbmRQYXJhbXNUb1VSTCwgSVNfU0VSVkVSIH0gZnJvbSAnLi92aWRzdGFjay1EVWxDb3Bocy5qcyc7XG5pbXBvcnQgeyBzaWduYWwsIGxpc3RlbkV2ZW50LCBlZmZlY3QsIHBlZWssIGlzU3RyaW5nIH0gZnJvbSAnLi92aWRzdGFjay1EX2JXZDY2aC5qcyc7XG5cbmNsYXNzIEVtYmVkUHJvdmlkZXIge1xuICAjaWZyYW1lO1xuICBzcmMgPSBzaWduYWwoXCJcIik7XG4gIC8qKlxuICAgKiBEZWZpbmVzIHdoaWNoIHJlZmVycmVyIGlzIHNlbnQgd2hlbiBmZXRjaGluZyB0aGUgcmVzb3VyY2UuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MSUZyYW1lRWxlbWVudC9yZWZlcnJlclBvbGljeX1cbiAgICovXG4gIHJlZmVycmVyUG9saWN5ID0gbnVsbDtcbiAgZ2V0IGlmcmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy4jaWZyYW1lO1xuICB9XG4gIGNvbnN0cnVjdG9yKGlmcmFtZSkge1xuICAgIHRoaXMuI2lmcmFtZSA9IGlmcmFtZTtcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwiZnJhbWVCb3JkZXJcIiwgXCIwXCIpO1xuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgIFwiYWxsb3dcIixcbiAgICAgIFwiYXV0b3BsYXk7IGZ1bGxzY3JlZW47IGVuY3J5cHRlZC1tZWRpYTsgcGljdHVyZS1pbi1waWN0dXJlOyBhY2NlbGVyb21ldGVyOyBneXJvc2NvcGVcIlxuICAgICk7XG4gICAgaWYgKHRoaXMucmVmZXJyZXJQb2xpY3kgIT09IG51bGwpIHtcbiAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJyZWZlcnJlcnBvbGljeVwiLCB0aGlzLnJlZmVycmVyUG9saWN5KTtcbiAgICB9XG4gIH1cbiAgc2V0dXAoKSB7XG4gICAgbGlzdGVuRXZlbnQod2luZG93LCBcIm1lc3NhZ2VcIiwgdGhpcy4jb25XaW5kb3dNZXNzYWdlLmJpbmQodGhpcykpO1xuICAgIGxpc3RlbkV2ZW50KHRoaXMuI2lmcmFtZSwgXCJsb2FkXCIsIHRoaXMub25Mb2FkLmJpbmQodGhpcykpO1xuICAgIGVmZmVjdCh0aGlzLiN3YXRjaFNyYy5iaW5kKHRoaXMpKTtcbiAgfVxuICAjd2F0Y2hTcmMoKSB7XG4gICAgY29uc3Qgc3JjID0gdGhpcy5zcmMoKTtcbiAgICBpZiAoIXNyYy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuI2lmcmFtZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCJcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBhcmFtcyA9IHBlZWsoKCkgPT4gdGhpcy5idWlsZFBhcmFtcygpKTtcbiAgICB0aGlzLiNpZnJhbWUuc2V0QXR0cmlidXRlKFwic3JjXCIsIGFwcGVuZFBhcmFtc1RvVVJMKHNyYywgcGFyYW1zKSk7XG4gIH1cbiAgcG9zdE1lc3NhZ2UobWVzc2FnZSwgdGFyZ2V0KSB7XG4gICAgaWYgKElTX1NFUlZFUikgcmV0dXJuO1xuICAgIHRoaXMuI2lmcmFtZS5jb250ZW50V2luZG93Py5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShtZXNzYWdlKSwgdGFyZ2V0ID8/IFwiKlwiKTtcbiAgfVxuICAjb25XaW5kb3dNZXNzYWdlKGV2ZW50KSB7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4oKSwgaXNPcmlnaW5NYXRjaCA9IChldmVudC5zb3VyY2UgPT09IG51bGwgfHwgZXZlbnQuc291cmNlID09PSB0aGlzLiNpZnJhbWU/LmNvbnRlbnRXaW5kb3cpICYmICghaXNTdHJpbmcob3JpZ2luKSB8fCBvcmlnaW4gPT09IGV2ZW50Lm9yaWdpbik7XG4gICAgaWYgKCFpc09yaWdpbk1hdGNoKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgaWYgKG1lc3NhZ2UpIHRoaXMub25NZXNzYWdlKG1lc3NhZ2UsIGV2ZW50KTtcbiAgICAgIHJldHVybjtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgfVxuICAgIGlmIChldmVudC5kYXRhKSB0aGlzLm9uTWVzc2FnZShldmVudC5kYXRhLCBldmVudCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgRW1iZWRQcm92aWRlciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vidstack/react/dev/chunks/vidstack-D8t5kEKd.js\n"));

/***/ }),

/***/ "./node_modules/@vidstack/react/dev/chunks/vidstack-Dm1xEU9Q.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@vidstack/react/dev/chunks/vidstack-Dm1xEU9Q.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findYouTubePoster: function() { return /* binding */ findYouTubePoster; },\n/* harmony export */   resolveYouTubeVideoId: function() { return /* binding */ resolveYouTubeVideoId; }\n/* harmony export */ });\n\"use client\"\n\nconst videoIdRE = /(?:youtu\\.be|youtube|youtube\\.com|youtube-nocookie\\.com)(?:\\/shorts)?\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=|)((?:\\w|-){11})/;\nconst posterCache = /* @__PURE__ */ new Map();\nconst pendingFetch = /* @__PURE__ */ new Map();\nfunction resolveYouTubeVideoId(src) {\n  return src.match(videoIdRE)?.[1];\n}\nasync function findYouTubePoster(videoId, abort) {\n  if (posterCache.has(videoId)) return posterCache.get(videoId);\n  if (pendingFetch.has(videoId)) return pendingFetch.get(videoId);\n  const pending = new Promise(async (resolve) => {\n    const sizes = [\"maxresdefault\", \"sddefault\", \"hqdefault\"];\n    for (const size of sizes) {\n      for (const webp of [true, false]) {\n        const url = resolveYouTubePosterURL(videoId, size, webp), response = await fetch(url, {\n          mode: \"no-cors\",\n          signal: abort.signal\n        });\n        if (response.status < 400) {\n          posterCache.set(videoId, url);\n          resolve(url);\n          return;\n        }\n      }\n    }\n  }).catch(() => \"\").finally(() => pendingFetch.delete(videoId));\n  pendingFetch.set(videoId, pending);\n  return pending;\n}\nfunction resolveYouTubePosterURL(videoId, size, webp) {\n  const type = webp ? \"webp\" : \"jpg\";\n  return `https://i.ytimg.com/${webp ? \"vi_webp\" : \"vi\"}/${videoId}/${size}.${type}`;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpZHN0YWNrL3JlYWN0L2Rldi9jaHVua3Mvdmlkc3RhY2stRG0xeEVVOVEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7QUFFQSwySUFBMkksR0FBRztBQUM5STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx3QkFBd0IsR0FBRyxRQUFRLEdBQUcsS0FBSyxHQUFHLEtBQUs7QUFDbkY7O0FBRW9EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9Admlkc3RhY2svcmVhY3QvZGV2L2NodW5rcy92aWRzdGFjay1EbTF4RVU5US5qcz81M2E4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmNvbnN0IHZpZGVvSWRSRSA9IC8oPzp5b3V0dVxcLmJlfHlvdXR1YmV8eW91dHViZVxcLmNvbXx5b3V0dWJlLW5vY29va2llXFwuY29tKSg/OlxcL3Nob3J0cyk/XFwvKD86ZW1iZWRcXC98dlxcL3x3YXRjaFxcP3Y9fHdhdGNoXFw/Lismdj18KSgoPzpcXHd8LSl7MTF9KS87XG5jb25zdCBwb3N0ZXJDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5jb25zdCBwZW5kaW5nRmV0Y2ggPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuZnVuY3Rpb24gcmVzb2x2ZVlvdVR1YmVWaWRlb0lkKHNyYykge1xuICByZXR1cm4gc3JjLm1hdGNoKHZpZGVvSWRSRSk/LlsxXTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGZpbmRZb3VUdWJlUG9zdGVyKHZpZGVvSWQsIGFib3J0KSB7XG4gIGlmIChwb3N0ZXJDYWNoZS5oYXModmlkZW9JZCkpIHJldHVybiBwb3N0ZXJDYWNoZS5nZXQodmlkZW9JZCk7XG4gIGlmIChwZW5kaW5nRmV0Y2guaGFzKHZpZGVvSWQpKSByZXR1cm4gcGVuZGluZ0ZldGNoLmdldCh2aWRlb0lkKTtcbiAgY29uc3QgcGVuZGluZyA9IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlKSA9PiB7XG4gICAgY29uc3Qgc2l6ZXMgPSBbXCJtYXhyZXNkZWZhdWx0XCIsIFwic2RkZWZhdWx0XCIsIFwiaHFkZWZhdWx0XCJdO1xuICAgIGZvciAoY29uc3Qgc2l6ZSBvZiBzaXplcykge1xuICAgICAgZm9yIChjb25zdCB3ZWJwIG9mIFt0cnVlLCBmYWxzZV0pIHtcbiAgICAgICAgY29uc3QgdXJsID0gcmVzb2x2ZVlvdVR1YmVQb3N0ZXJVUkwodmlkZW9JZCwgc2l6ZSwgd2VicCksIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgICAgbW9kZTogXCJuby1jb3JzXCIsXG4gICAgICAgICAgc2lnbmFsOiBhYm9ydC5zaWduYWxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPCA0MDApIHtcbiAgICAgICAgICBwb3N0ZXJDYWNoZS5zZXQodmlkZW9JZCwgdXJsKTtcbiAgICAgICAgICByZXNvbHZlKHVybCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KS5jYXRjaCgoKSA9PiBcIlwiKS5maW5hbGx5KCgpID0+IHBlbmRpbmdGZXRjaC5kZWxldGUodmlkZW9JZCkpO1xuICBwZW5kaW5nRmV0Y2guc2V0KHZpZGVvSWQsIHBlbmRpbmcpO1xuICByZXR1cm4gcGVuZGluZztcbn1cbmZ1bmN0aW9uIHJlc29sdmVZb3VUdWJlUG9zdGVyVVJMKHZpZGVvSWQsIHNpemUsIHdlYnApIHtcbiAgY29uc3QgdHlwZSA9IHdlYnAgPyBcIndlYnBcIiA6IFwianBnXCI7XG4gIHJldHVybiBgaHR0cHM6Ly9pLnl0aW1nLmNvbS8ke3dlYnAgPyBcInZpX3dlYnBcIiA6IFwidmlcIn0vJHt2aWRlb0lkfS8ke3NpemV9LiR7dHlwZX1gO1xufVxuXG5leHBvcnQgeyBmaW5kWW91VHViZVBvc3RlciwgcmVzb2x2ZVlvdVR1YmVWaWRlb0lkIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vidstack/react/dev/chunks/vidstack-Dm1xEU9Q.js\n"));

/***/ })

}]);