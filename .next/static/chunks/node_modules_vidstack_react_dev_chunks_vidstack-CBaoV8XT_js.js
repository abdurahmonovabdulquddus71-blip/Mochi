"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["node_modules_vidstack_react_dev_chunks_vidstack-CBaoV8XT_js"],{

/***/ "./node_modules/@vidstack/react/dev/chunks/vidstack-CBaoV8XT.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@vidstack/react/dev/chunks/vidstack-CBaoV8XT.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GoogleCastProvider: function() { return /* binding */ GoogleCastProvider; }\n/* harmony export */ });\n/* harmony import */ var _vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vidstack-D_bWd66h.js */ \"./node_modules/@vidstack/react/dev/chunks/vidstack-D_bWd66h.js\");\n/* harmony import */ var _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vidstack-DUlCophs.js */ \"./node_modules/@vidstack/react/dev/chunks/vidstack-DUlCophs.js\");\n/* harmony import */ var _vidstack_BM_FgV9W_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./vidstack-BM-FgV9W.js */ \"./node_modules/@vidstack/react/dev/chunks/vidstack-BM-FgV9W.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\"use client\"\n\n;\n\n\n\n\n\nclass GoogleCastMediaInfoBuilder {\n  #info;\n  constructor(src) {\n    this.#info = new chrome.cast.media.MediaInfo(src.src, src.type);\n  }\n  build() {\n    return this.#info;\n  }\n  setStreamType(streamType) {\n    if (streamType.includes(\"live\")) {\n      this.#info.streamType = chrome.cast.media.StreamType.LIVE;\n    } else {\n      this.#info.streamType = chrome.cast.media.StreamType.BUFFERED;\n    }\n    return this;\n  }\n  setTracks(tracks) {\n    this.#info.tracks = tracks.map(this.#buildCastTrack);\n    return this;\n  }\n  setMetadata(title, poster) {\n    this.#info.metadata = new chrome.cast.media.GenericMediaMetadata();\n    this.#info.metadata.title = title;\n    this.#info.metadata.images = [{ url: poster }];\n    return this;\n  }\n  #buildCastTrack(track, trackId) {\n    const castTrack = new chrome.cast.media.Track(trackId, chrome.cast.media.TrackType.TEXT);\n    castTrack.name = track.label;\n    castTrack.trackContentId = track.src;\n    castTrack.trackContentType = \"text/vtt\";\n    castTrack.language = track.language;\n    castTrack.subtype = track.kind.toUpperCase();\n    return castTrack;\n  }\n}\n\nclass GoogleCastTracksManager {\n  #cast;\n  #ctx;\n  #onNewLocalTracks;\n  constructor(cast, ctx, onNewLocalTracks) {\n    this.#cast = cast;\n    this.#ctx = ctx;\n    this.#onNewLocalTracks = onNewLocalTracks;\n  }\n  setup() {\n    const syncRemoteActiveIds = this.syncRemoteActiveIds.bind(this);\n    (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_1__.listenEvent)(this.#ctx.audioTracks, \"change\", syncRemoteActiveIds);\n    (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_1__.listenEvent)(this.#ctx.textTracks, \"mode-change\", syncRemoteActiveIds);\n    (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_1__.effect)(this.#syncLocalTracks.bind(this));\n  }\n  getLocalTextTracks() {\n    return this.#ctx.$state.textTracks().filter((track) => track.src && track.type === \"vtt\");\n  }\n  #getLocalAudioTracks() {\n    return this.#ctx.$state.audioTracks();\n  }\n  #getRemoteTracks(type) {\n    const tracks = this.#cast.mediaInfo?.tracks ?? [];\n    return type ? tracks.filter((track) => track.type === type) : tracks;\n  }\n  #getRemoteActiveIds() {\n    const activeIds = [], activeLocalAudioTrack = this.#getLocalAudioTracks().find((track) => track.selected), activeLocalTextTracks = this.getLocalTextTracks().filter((track) => track.mode === \"showing\");\n    if (activeLocalAudioTrack) {\n      const remoteAudioTracks = this.#getRemoteTracks(chrome.cast.media.TrackType.AUDIO), remoteAudioTrack = this.#findRemoteTrack(remoteAudioTracks, activeLocalAudioTrack);\n      if (remoteAudioTrack) activeIds.push(remoteAudioTrack.trackId);\n    }\n    if (activeLocalTextTracks?.length) {\n      const remoteTextTracks = this.#getRemoteTracks(chrome.cast.media.TrackType.TEXT);\n      if (remoteTextTracks.length) {\n        for (const localTrack of activeLocalTextTracks) {\n          const remoteTextTrack = this.#findRemoteTrack(remoteTextTracks, localTrack);\n          if (remoteTextTrack) activeIds.push(remoteTextTrack.trackId);\n        }\n      }\n    }\n    return activeIds;\n  }\n  #syncLocalTracks() {\n    const localTextTracks = this.getLocalTextTracks();\n    if (!this.#cast.isMediaLoaded) return;\n    const remoteTextTracks = this.#getRemoteTracks(chrome.cast.media.TrackType.TEXT);\n    for (const localTrack of localTextTracks) {\n      const hasRemoteTrack = this.#findRemoteTrack(remoteTextTracks, localTrack);\n      if (!hasRemoteTrack) {\n        (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_1__.untrack)(() => this.#onNewLocalTracks?.());\n        break;\n      }\n    }\n  }\n  syncRemoteTracks(event) {\n    if (!this.#cast.isMediaLoaded) return;\n    const localAudioTracks = this.#getLocalAudioTracks(), localTextTracks = this.getLocalTextTracks(), remoteAudioTracks = this.#getRemoteTracks(chrome.cast.media.TrackType.AUDIO), remoteTextTracks = this.#getRemoteTracks(chrome.cast.media.TrackType.TEXT);\n    for (const remoteAudioTrack of remoteAudioTracks) {\n      const hasLocalTrack = this.#findLocalTrack(localAudioTracks, remoteAudioTrack);\n      if (hasLocalTrack) continue;\n      const localAudioTrack = {\n        id: remoteAudioTrack.trackId.toString(),\n        label: remoteAudioTrack.name,\n        language: remoteAudioTrack.language,\n        kind: remoteAudioTrack.subtype ?? \"main\",\n        selected: false\n      };\n      this.#ctx.audioTracks[_vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_2__.ListSymbol.add](localAudioTrack, event);\n    }\n    for (const remoteTextTrack of remoteTextTracks) {\n      const hasLocalTrack = this.#findLocalTrack(localTextTracks, remoteTextTrack);\n      if (hasLocalTrack) continue;\n      const localTextTrack = {\n        id: remoteTextTrack.trackId.toString(),\n        src: remoteTextTrack.trackContentId,\n        label: remoteTextTrack.name,\n        language: remoteTextTrack.language,\n        kind: remoteTextTrack.subtype.toLowerCase()\n      };\n      this.#ctx.textTracks.add(localTextTrack, event);\n    }\n  }\n  syncRemoteActiveIds(event) {\n    if (!this.#cast.isMediaLoaded) return;\n    const activeIds = this.#getRemoteActiveIds(), editRequest = new chrome.cast.media.EditTracksInfoRequest(activeIds);\n    this.#editTracksInfo(editRequest).catch((error) => {\n      {\n        this.#ctx.logger?.errorGroup(\"[vidstack] failed to edit cast tracks info\").labelledLog(\"Edit Request\", editRequest).labelledLog(\"Error\", error).dispatch();\n      }\n    });\n  }\n  #editTracksInfo(request) {\n    const media = (0,_vidstack_BM_FgV9W_js__WEBPACK_IMPORTED_MODULE_3__.getCastSessionMedia)();\n    return new Promise((resolve, reject) => media?.editTracksInfo(request, resolve, reject));\n  }\n  #findLocalTrack(localTracks, remoteTrack) {\n    return localTracks.find((localTrack) => this.#isMatch(localTrack, remoteTrack));\n  }\n  #findRemoteTrack(remoteTracks, localTrack) {\n    return remoteTracks.find((remoteTrack) => this.#isMatch(localTrack, remoteTrack));\n  }\n  // Note: we can't rely on id matching because they will differ between local/remote. A local\n  // track id might not even exist.\n  #isMatch(localTrack, remoteTrack) {\n    return remoteTrack.name === localTrack.label && remoteTrack.language === localTrack.language && remoteTrack.subtype.toLowerCase() === localTrack.kind.toLowerCase();\n  }\n}\n\nclass GoogleCastProvider {\n  $$PROVIDER_TYPE = \"GOOGLE_CAST\";\n  scope = (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_1__.createScope)();\n  #player;\n  #ctx;\n  #tracks;\n  #currentSrc = null;\n  #state = \"disconnected\";\n  #currentTime = 0;\n  #played = 0;\n  #seekableRange = new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_2__.TimeRange(0, 0);\n  #timeRAF = new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_2__.RAFLoop(this.#onAnimationFrame.bind(this));\n  #playerEventHandlers;\n  #reloadInfo = null;\n  #isIdle = false;\n  constructor(player, ctx) {\n    this.#player = player;\n    this.#ctx = ctx;\n    this.#tracks = new GoogleCastTracksManager(player, ctx, this.#onNewLocalTracks.bind(this));\n  }\n  get type() {\n    return \"google-cast\";\n  }\n  get currentSrc() {\n    return this.#currentSrc;\n  }\n  /**\n   * The Google Cast remote player.\n   *\n   * @see {@link https://developers.google.com/cast/docs/reference/web_sender/cast.framework.RemotePlayer}\n   */\n  get player() {\n    return this.#player;\n  }\n  /**\n   * @see {@link https://developers.google.com/cast/docs/reference/web_sender/cast.framework.CastContext}\n   */\n  get cast() {\n    return (0,_vidstack_BM_FgV9W_js__WEBPACK_IMPORTED_MODULE_3__.getCastContext)();\n  }\n  /**\n   * @see {@link https://developers.google.com/cast/docs/reference/web_sender/cast.framework.CastSession}\n   */\n  get session() {\n    return (0,_vidstack_BM_FgV9W_js__WEBPACK_IMPORTED_MODULE_3__.getCastSession)();\n  }\n  /**\n   * @see {@link https://developers.google.com/cast/docs/reference/web_sender/chrome.cast.media.Media}\n   */\n  get media() {\n    return (0,_vidstack_BM_FgV9W_js__WEBPACK_IMPORTED_MODULE_3__.getCastSessionMedia)();\n  }\n  /**\n   * Whether the current Google Cast session belongs to this provider.\n   */\n  get hasActiveSession() {\n    return (0,_vidstack_BM_FgV9W_js__WEBPACK_IMPORTED_MODULE_3__.hasActiveCastSession)(this.#currentSrc);\n  }\n  setup() {\n    this.#attachCastContextEventListeners();\n    this.#attachCastPlayerEventListeners();\n    this.#tracks.setup();\n    this.#ctx.notify(\"provider-setup\", this);\n  }\n  #attachCastContextEventListeners() {\n    (0,_vidstack_BM_FgV9W_js__WEBPACK_IMPORTED_MODULE_3__.listenCastContextEvent)(\n      cast.framework.CastContextEventType.CAST_STATE_CHANGED,\n      this.#onCastStateChange.bind(this)\n    );\n  }\n  #attachCastPlayerEventListeners() {\n    const Event2 = cast.framework.RemotePlayerEventType, handlers = {\n      [Event2.IS_CONNECTED_CHANGED]: this.#onCastStateChange,\n      [Event2.IS_MEDIA_LOADED_CHANGED]: this.#onMediaLoadedChange,\n      [Event2.CAN_CONTROL_VOLUME_CHANGED]: this.#onCanControlVolumeChange,\n      [Event2.CAN_SEEK_CHANGED]: this.#onCanSeekChange,\n      [Event2.DURATION_CHANGED]: this.#onDurationChange,\n      [Event2.IS_MUTED_CHANGED]: this.#onVolumeChange,\n      [Event2.VOLUME_LEVEL_CHANGED]: this.#onVolumeChange,\n      [Event2.IS_PAUSED_CHANGED]: this.#onPausedChange,\n      [Event2.LIVE_SEEKABLE_RANGE_CHANGED]: this.#onProgress,\n      [Event2.PLAYER_STATE_CHANGED]: this.#onPlayerStateChange\n    };\n    this.#playerEventHandlers = handlers;\n    const handler = this.#onRemotePlayerEvent.bind(this);\n    for (const type of (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_1__.keysOf)(handlers)) {\n      this.#player.controller.addEventListener(type, handler);\n    }\n    (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_1__.onDispose)(() => {\n      for (const type of (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_1__.keysOf)(handlers)) {\n        this.#player.controller.removeEventListener(type, handler);\n      }\n    });\n  }\n  async play() {\n    if (!this.#player.isPaused && !this.#isIdle) return;\n    if (this.#isIdle) {\n      await this.#reload(false, 0);\n      return;\n    }\n    this.#player.controller?.playOrPause();\n  }\n  async pause() {\n    if (this.#player.isPaused) return;\n    this.#player.controller?.playOrPause();\n  }\n  getMediaStatus(request) {\n    return new Promise((resolve, reject) => {\n      this.media?.getStatus(request, resolve, reject);\n    });\n  }\n  setMuted(muted) {\n    const hasChanged = muted && !this.#player.isMuted || !muted && this.#player.isMuted;\n    if (hasChanged) this.#player.controller?.muteOrUnmute();\n  }\n  setCurrentTime(time) {\n    this.#player.currentTime = time;\n    this.#ctx.notify(\"seeking\", time);\n    this.#player.controller?.seek();\n  }\n  setVolume(volume) {\n    this.#player.volumeLevel = volume;\n    this.#player.controller?.setVolumeLevel();\n  }\n  async loadSource(src) {\n    if (this.#reloadInfo?.src !== src) this.#reloadInfo = null;\n    if ((0,_vidstack_BM_FgV9W_js__WEBPACK_IMPORTED_MODULE_3__.hasActiveCastSession)(src)) {\n      this.#resumeSession();\n      this.#currentSrc = src;\n      return;\n    }\n    this.#ctx.notify(\"load-start\");\n    const loadRequest = this.#buildLoadRequest(src), errorCode = await this.session.loadMedia(loadRequest);\n    if (errorCode) {\n      this.#currentSrc = null;\n      this.#ctx.notify(\"error\", Error((0,_vidstack_BM_FgV9W_js__WEBPACK_IMPORTED_MODULE_3__.getCastErrorMessage)(errorCode)));\n      return;\n    }\n    this.#currentSrc = src;\n  }\n  destroy() {\n    this.#reset();\n    this.#endSession();\n  }\n  #reset() {\n    if (!this.#reloadInfo) {\n      this.#played = 0;\n      this.#seekableRange = new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_2__.TimeRange(0, 0);\n    }\n    this.#timeRAF.stop();\n    this.#currentTime = 0;\n    this.#reloadInfo = null;\n  }\n  #resumeSession() {\n    const resumeSessionEvent = new _vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_1__.DOMEvent(\"resume-session\", { detail: this.session });\n    this.#onMediaLoadedChange(resumeSessionEvent);\n    const { muted, volume, savedState } = this.#ctx.$state, localState = savedState();\n    this.setCurrentTime(Math.max(this.#player.currentTime, localState?.currentTime ?? 0));\n    this.setMuted(muted());\n    this.setVolume(volume());\n    if (localState?.paused === false) this.play();\n  }\n  #endSession() {\n    this.cast.endCurrentSession(true);\n    const { remotePlaybackLoader } = this.#ctx.$state;\n    remotePlaybackLoader.set(null);\n  }\n  #disconnectFromReceiver() {\n    const { savedState } = this.#ctx.$state;\n    savedState.set({\n      paused: this.#player.isPaused,\n      currentTime: this.#player.currentTime\n    });\n    this.#endSession();\n  }\n  #onAnimationFrame() {\n    this.#onCurrentTimeChange();\n  }\n  #onRemotePlayerEvent(event) {\n    this.#playerEventHandlers[event.type].call(this, event);\n  }\n  #onCastStateChange(data) {\n    const castState = this.cast.getCastState(), state = castState === cast.framework.CastState.CONNECTED ? \"connected\" : castState === cast.framework.CastState.CONNECTING ? \"connecting\" : \"disconnected\";\n    if (this.#state === state) return;\n    const detail = { type: \"google-cast\", state }, trigger = this.#createEvent(data);\n    this.#state = state;\n    this.#ctx.notify(\"remote-playback-change\", detail, trigger);\n    if (state === \"disconnected\") {\n      this.#disconnectFromReceiver();\n    }\n  }\n  #onMediaLoadedChange(event) {\n    const hasLoaded = !!this.#player.isMediaLoaded;\n    if (!hasLoaded) return;\n    const src = (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_1__.peek)(this.#ctx.$state.source);\n    Promise.resolve().then(() => {\n      if (src !== (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_1__.peek)(this.#ctx.$state.source) || !this.#player.isMediaLoaded) return;\n      this.#reset();\n      const duration = this.#player.duration;\n      this.#seekableRange = new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_2__.TimeRange(0, duration);\n      const detail = {\n        provider: this,\n        duration,\n        buffered: new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_2__.TimeRange(0, 0),\n        seekable: this.#getSeekableRange()\n      }, trigger = this.#createEvent(event);\n      this.#ctx.notify(\"loaded-metadata\", void 0, trigger);\n      this.#ctx.notify(\"loaded-data\", void 0, trigger);\n      this.#ctx.notify(\"can-play\", detail, trigger);\n      this.#onCanControlVolumeChange();\n      this.#onCanSeekChange(event);\n      const { volume, muted } = this.#ctx.$state;\n      this.setVolume(volume());\n      this.setMuted(muted());\n      this.#timeRAF.start();\n      this.#tracks.syncRemoteTracks(trigger);\n      this.#tracks.syncRemoteActiveIds(trigger);\n    });\n  }\n  #onCanControlVolumeChange() {\n    this.#ctx.$state.canSetVolume.set(this.#player.canControlVolume);\n  }\n  #onCanSeekChange(event) {\n    const trigger = this.#createEvent(event);\n    this.#ctx.notify(\"stream-type-change\", this.#getStreamType(), trigger);\n  }\n  #getStreamType() {\n    const streamType = this.#player.mediaInfo?.streamType;\n    return streamType === chrome.cast.media.StreamType.LIVE ? this.#player.canSeek ? \"live:dvr\" : \"live\" : \"on-demand\";\n  }\n  #onCurrentTimeChange() {\n    if (this.#reloadInfo) return;\n    const currentTime = this.#player.currentTime;\n    if (currentTime === this.#currentTime) return;\n    this.#ctx.notify(\"time-change\", currentTime);\n    if (currentTime > this.#played) {\n      this.#played = currentTime;\n      this.#onProgress();\n    }\n    if (this.#ctx.$state.seeking()) {\n      this.#ctx.notify(\"seeked\", currentTime);\n    }\n    this.#currentTime = currentTime;\n  }\n  #onDurationChange(event) {\n    if (!this.#player.isMediaLoaded || this.#reloadInfo) return;\n    const duration = this.#player.duration, trigger = this.#createEvent(event);\n    this.#seekableRange = new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_2__.TimeRange(0, duration);\n    this.#ctx.notify(\"duration-change\", duration, trigger);\n  }\n  #onVolumeChange(event) {\n    if (!this.#player.isMediaLoaded) return;\n    const detail = {\n      muted: this.#player.isMuted,\n      volume: this.#player.volumeLevel\n    }, trigger = this.#createEvent(event);\n    this.#ctx.notify(\"volume-change\", detail, trigger);\n  }\n  #onPausedChange(event) {\n    const trigger = this.#createEvent(event);\n    if (this.#player.isPaused) {\n      this.#ctx.notify(\"pause\", void 0, trigger);\n    } else {\n      this.#ctx.notify(\"play\", void 0, trigger);\n    }\n  }\n  #onProgress(event) {\n    const detail = {\n      seekable: this.#getSeekableRange(),\n      buffered: new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_2__.TimeRange(0, this.#played)\n    }, trigger = event ? this.#createEvent(event) : void 0;\n    this.#ctx.notify(\"progress\", detail, trigger);\n  }\n  #onPlayerStateChange(event) {\n    const state = this.#player.playerState, PlayerState = chrome.cast.media.PlayerState;\n    this.#isIdle = state === PlayerState.IDLE;\n    if (state === PlayerState.PAUSED) return;\n    const trigger = this.#createEvent(event);\n    switch (state) {\n      case PlayerState.PLAYING:\n        this.#ctx.notify(\"playing\", void 0, trigger);\n        break;\n      case PlayerState.BUFFERING:\n        this.#ctx.notify(\"waiting\", void 0, trigger);\n        break;\n      case PlayerState.IDLE:\n        this.#timeRAF.stop();\n        this.#ctx.notify(\"pause\");\n        this.#ctx.notify(\"end\");\n        break;\n    }\n  }\n  #getSeekableRange() {\n    return this.#player.liveSeekableRange ? new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_2__.TimeRange(this.#player.liveSeekableRange.start, this.#player.liveSeekableRange.end) : this.#seekableRange;\n  }\n  #createEvent(detail) {\n    return detail instanceof Event ? detail : new _vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_1__.DOMEvent(detail.type, { detail });\n  }\n  #buildMediaInfo(src) {\n    const { streamType, title, poster } = this.#ctx.$state;\n    return new GoogleCastMediaInfoBuilder(src).setMetadata(title(), poster()).setStreamType(streamType()).setTracks(this.#tracks.getLocalTextTracks()).build();\n  }\n  #buildLoadRequest(src) {\n    const mediaInfo = this.#buildMediaInfo(src), request = new chrome.cast.media.LoadRequest(mediaInfo), savedState = this.#ctx.$state.savedState();\n    request.autoplay = (this.#reloadInfo?.paused ?? savedState?.paused) === false;\n    request.currentTime = this.#reloadInfo?.time ?? savedState?.currentTime ?? 0;\n    return request;\n  }\n  async #reload(paused, time) {\n    const src = (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_1__.peek)(this.#ctx.$state.source);\n    this.#reloadInfo = { src, paused, time };\n    await this.loadSource(src);\n  }\n  #onNewLocalTracks() {\n    this.#reload(this.#player.isPaused, this.#player.currentTime).catch((error) => {\n      {\n        this.#ctx.logger?.errorGroup(\"[vidstack] cast failed to load new local tracks\").labelledLog(\"Error\", error).dispatch();\n      }\n    });\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpZHN0YWNrL3JlYWN0L2Rldi9jaHVua3Mvdmlkc3RhY2stQ0Jhb1Y4WFQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFFQSxDQUFzSDtBQUM5QztBQUN3RjtBQUNqSjtBQUNXOztBQUUxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsYUFBYTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksa0VBQVc7QUFDZixJQUFJLGtFQUFXO0FBQ2YsSUFBSSw2REFBTTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDhEQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2REFBVTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGtCQUFrQiwwRUFBbUI7QUFDckM7QUFDQTtB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QTtBQUNBO0FBQ0Esb0JBQW9CLDREQUFTO0FBQzdCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCw0REFBUztBQUN6RDtBQUNBO0FBQ0Esa0RBQWtELDJEQUFRLGdCQUFnQixRQUFRO0FBQ2xGO0FBQ0E7QUFDQSxZQUFZLDRCQUE0QjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkRBQUk7QUFDcEIseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRThCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9Admlkc3RhY2svcmVhY3QvZGV2L2NodW5rcy92aWRzdGFjay1DQmFvVjhYVC5qcz9mMTQyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IGxpc3RlbkV2ZW50LCBlZmZlY3QsIHVudHJhY2ssIGNyZWF0ZVNjb3BlLCBrZXlzT2YsIG9uRGlzcG9zZSwgRE9NRXZlbnQsIHBlZWsgfSBmcm9tICcuL3ZpZHN0YWNrLURfYldkNjZoLmpzJztcbmltcG9ydCB7IExpc3RTeW1ib2wsIFRpbWVSYW5nZSwgUkFGTG9vcCB9IGZyb20gJy4vdmlkc3RhY2stRFVsQ29waHMuanMnO1xuaW1wb3J0IHsgZ2V0Q2FzdFNlc3Npb25NZWRpYSwgZ2V0Q2FzdENvbnRleHQsIGdldENhc3RTZXNzaW9uLCBoYXNBY3RpdmVDYXN0U2Vzc2lvbiwgbGlzdGVuQ2FzdENvbnRleHRFdmVudCwgZ2V0Q2FzdEVycm9yTWVzc2FnZSB9IGZyb20gJy4vdmlkc3RhY2stQk0tRmdWOVcuanMnO1xuaW1wb3J0ICdyZWFjdCc7XG5pbXBvcnQgJ0BmbG9hdGluZy11aS9kb20nO1xuXG5jbGFzcyBHb29nbGVDYXN0TWVkaWFJbmZvQnVpbGRlciB7XG4gICNpbmZvO1xuICBjb25zdHJ1Y3RvcihzcmMpIHtcbiAgICB0aGlzLiNpbmZvID0gbmV3IGNocm9tZS5jYXN0Lm1lZGlhLk1lZGlhSW5mbyhzcmMuc3JjLCBzcmMudHlwZSk7XG4gIH1cbiAgYnVpbGQoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2luZm87XG4gIH1cbiAgc2V0U3RyZWFtVHlwZShzdHJlYW1UeXBlKSB7XG4gICAgaWYgKHN0cmVhbVR5cGUuaW5jbHVkZXMoXCJsaXZlXCIpKSB7XG4gICAgICB0aGlzLiNpbmZvLnN0cmVhbVR5cGUgPSBjaHJvbWUuY2FzdC5tZWRpYS5TdHJlYW1UeXBlLkxJVkU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI2luZm8uc3RyZWFtVHlwZSA9IGNocm9tZS5jYXN0Lm1lZGlhLlN0cmVhbVR5cGUuQlVGRkVSRUQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHNldFRyYWNrcyh0cmFja3MpIHtcbiAgICB0aGlzLiNpbmZvLnRyYWNrcyA9IHRyYWNrcy5tYXAodGhpcy4jYnVpbGRDYXN0VHJhY2spO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHNldE1ldGFkYXRhKHRpdGxlLCBwb3N0ZXIpIHtcbiAgICB0aGlzLiNpbmZvLm1ldGFkYXRhID0gbmV3IGNocm9tZS5jYXN0Lm1lZGlhLkdlbmVyaWNNZWRpYU1ldGFkYXRhKCk7XG4gICAgdGhpcy4jaW5mby5tZXRhZGF0YS50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMuI2luZm8ubWV0YWRhdGEuaW1hZ2VzID0gW3sgdXJsOiBwb3N0ZXIgfV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgI2J1aWxkQ2FzdFRyYWNrKHRyYWNrLCB0cmFja0lkKSB7XG4gICAgY29uc3QgY2FzdFRyYWNrID0gbmV3IGNocm9tZS5jYXN0Lm1lZGlhLlRyYWNrKHRyYWNrSWQsIGNocm9tZS5jYXN0Lm1lZGlhLlRyYWNrVHlwZS5URVhUKTtcbiAgICBjYXN0VHJhY2submFtZSA9IHRyYWNrLmxhYmVsO1xuICAgIGNhc3RUcmFjay50cmFja0NvbnRlbnRJZCA9IHRyYWNrLnNyYztcbiAgICBjYXN0VHJhY2sudHJhY2tDb250ZW50VHlwZSA9IFwidGV4dC92dHRcIjtcbiAgICBjYXN0VHJhY2subGFuZ3VhZ2UgPSB0cmFjay5sYW5ndWFnZTtcbiAgICBjYXN0VHJhY2suc3VidHlwZSA9IHRyYWNrLmtpbmQudG9VcHBlckNhc2UoKTtcbiAgICByZXR1cm4gY2FzdFRyYWNrO1xuICB9XG59XG5cbmNsYXNzIEdvb2dsZUNhc3RUcmFja3NNYW5hZ2VyIHtcbiAgI2Nhc3Q7XG4gICNjdHg7XG4gICNvbk5ld0xvY2FsVHJhY2tzO1xuICBjb25zdHJ1Y3RvcihjYXN0LCBjdHgsIG9uTmV3TG9jYWxUcmFja3MpIHtcbiAgICB0aGlzLiNjYXN0ID0gY2FzdDtcbiAgICB0aGlzLiNjdHggPSBjdHg7XG4gICAgdGhpcy4jb25OZXdMb2NhbFRyYWNrcyA9IG9uTmV3TG9jYWxUcmFja3M7XG4gIH1cbiAgc2V0dXAoKSB7XG4gICAgY29uc3Qgc3luY1JlbW90ZUFjdGl2ZUlkcyA9IHRoaXMuc3luY1JlbW90ZUFjdGl2ZUlkcy5iaW5kKHRoaXMpO1xuICAgIGxpc3RlbkV2ZW50KHRoaXMuI2N0eC5hdWRpb1RyYWNrcywgXCJjaGFuZ2VcIiwgc3luY1JlbW90ZUFjdGl2ZUlkcyk7XG4gICAgbGlzdGVuRXZlbnQodGhpcy4jY3R4LnRleHRUcmFja3MsIFwibW9kZS1jaGFuZ2VcIiwgc3luY1JlbW90ZUFjdGl2ZUlkcyk7XG4gICAgZWZmZWN0KHRoaXMuI3N5bmNMb2NhbFRyYWNrcy5iaW5kKHRoaXMpKTtcbiAgfVxuICBnZXRMb2NhbFRleHRUcmFja3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2N0eC4kc3RhdGUudGV4dFRyYWNrcygpLmZpbHRlcigodHJhY2spID0+IHRyYWNrLnNyYyAmJiB0cmFjay50eXBlID09PSBcInZ0dFwiKTtcbiAgfVxuICAjZ2V0TG9jYWxBdWRpb1RyYWNrcygpIHtcbiAgICByZXR1cm4gdGhpcy4jY3R4LiRzdGF0ZS5hdWRpb1RyYWNrcygpO1xuICB9XG4gICNnZXRSZW1vdGVUcmFja3ModHlwZSkge1xuICAgIGNvbnN0IHRyYWNrcyA9IHRoaXMuI2Nhc3QubWVkaWFJbmZvPy50cmFja3MgPz8gW107XG4gICAgcmV0dXJuIHR5cGUgPyB0cmFja3MuZmlsdGVyKCh0cmFjaykgPT4gdHJhY2sudHlwZSA9PT0gdHlwZSkgOiB0cmFja3M7XG4gIH1cbiAgI2dldFJlbW90ZUFjdGl2ZUlkcygpIHtcbiAgICBjb25zdCBhY3RpdmVJZHMgPSBbXSwgYWN0aXZlTG9jYWxBdWRpb1RyYWNrID0gdGhpcy4jZ2V0TG9jYWxBdWRpb1RyYWNrcygpLmZpbmQoKHRyYWNrKSA9PiB0cmFjay5zZWxlY3RlZCksIGFjdGl2ZUxvY2FsVGV4dFRyYWNrcyA9IHRoaXMuZ2V0TG9jYWxUZXh0VHJhY2tzKCkuZmlsdGVyKCh0cmFjaykgPT4gdHJhY2subW9kZSA9PT0gXCJzaG93aW5nXCIpO1xuICAgIGlmIChhY3RpdmVMb2NhbEF1ZGlvVHJhY2spIHtcbiAgICAgIGNvbnN0IHJlbW90ZUF1ZGlvVHJhY2tzID0gdGhpcy4jZ2V0UmVtb3RlVHJhY2tzKGNocm9tZS5jYXN0Lm1lZGlhLlRyYWNrVHlwZS5BVURJTyksIHJlbW90ZUF1ZGlvVHJhY2sgPSB0aGlzLiNmaW5kUmVtb3RlVHJhY2socmVtb3RlQXVkaW9UcmFja3MsIGFjdGl2ZUxvY2FsQXVkaW9UcmFjayk7XG4gICAgICBpZiAocmVtb3RlQXVkaW9UcmFjaykgYWN0aXZlSWRzLnB1c2gocmVtb3RlQXVkaW9UcmFjay50cmFja0lkKTtcbiAgICB9XG4gICAgaWYgKGFjdGl2ZUxvY2FsVGV4dFRyYWNrcz8ubGVuZ3RoKSB7XG4gICAgICBjb25zdCByZW1vdGVUZXh0VHJhY2tzID0gdGhpcy4jZ2V0UmVtb3RlVHJhY2tzKGNocm9tZS5jYXN0Lm1lZGlhLlRyYWNrVHlwZS5URVhUKTtcbiAgICAgIGlmIChyZW1vdGVUZXh0VHJhY2tzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGNvbnN0IGxvY2FsVHJhY2sgb2YgYWN0aXZlTG9jYWxUZXh0VHJhY2tzKSB7XG4gICAgICAgICAgY29uc3QgcmVtb3RlVGV4dFRyYWNrID0gdGhpcy4jZmluZFJlbW90ZVRyYWNrKHJlbW90ZVRleHRUcmFja3MsIGxvY2FsVHJhY2spO1xuICAgICAgICAgIGlmIChyZW1vdGVUZXh0VHJhY2spIGFjdGl2ZUlkcy5wdXNoKHJlbW90ZVRleHRUcmFjay50cmFja0lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWN0aXZlSWRzO1xuICB9XG4gICNzeW5jTG9jYWxUcmFja3MoKSB7XG4gICAgY29uc3QgbG9jYWxUZXh0VHJhY2tzID0gdGhpcy5nZXRMb2NhbFRleHRUcmFja3MoKTtcbiAgICBpZiAoIXRoaXMuI2Nhc3QuaXNNZWRpYUxvYWRlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHJlbW90ZVRleHRUcmFja3MgPSB0aGlzLiNnZXRSZW1vdGVUcmFja3MoY2hyb21lLmNhc3QubWVkaWEuVHJhY2tUeXBlLlRFWFQpO1xuICAgIGZvciAoY29uc3QgbG9jYWxUcmFjayBvZiBsb2NhbFRleHRUcmFja3MpIHtcbiAgICAgIGNvbnN0IGhhc1JlbW90ZVRyYWNrID0gdGhpcy4jZmluZFJlbW90ZVRyYWNrKHJlbW90ZVRleHRUcmFja3MsIGxvY2FsVHJhY2spO1xuICAgICAgaWYgKCFoYXNSZW1vdGVUcmFjaykge1xuICAgICAgICB1bnRyYWNrKCgpID0+IHRoaXMuI29uTmV3TG9jYWxUcmFja3M/LigpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHN5bmNSZW1vdGVUcmFja3MoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuI2Nhc3QuaXNNZWRpYUxvYWRlZCkgcmV0dXJuO1xuICAgIGNvbnN0IGxvY2FsQXVkaW9UcmFja3MgPSB0aGlzLiNnZXRMb2NhbEF1ZGlvVHJhY2tzKCksIGxvY2FsVGV4dFRyYWNrcyA9IHRoaXMuZ2V0TG9jYWxUZXh0VHJhY2tzKCksIHJlbW90ZUF1ZGlvVHJhY2tzID0gdGhpcy4jZ2V0UmVtb3RlVHJhY2tzKGNocm9tZS5jYXN0Lm1lZGlhLlRyYWNrVHlwZS5BVURJTyksIHJlbW90ZVRleHRUcmFja3MgPSB0aGlzLiNnZXRSZW1vdGVUcmFja3MoY2hyb21lLmNhc3QubWVkaWEuVHJhY2tUeXBlLlRFWFQpO1xuICAgIGZvciAoY29uc3QgcmVtb3RlQXVkaW9UcmFjayBvZiByZW1vdGVBdWRpb1RyYWNrcykge1xuICAgICAgY29uc3QgaGFzTG9jYWxUcmFjayA9IHRoaXMuI2ZpbmRMb2NhbFRyYWNrKGxvY2FsQXVkaW9UcmFja3MsIHJlbW90ZUF1ZGlvVHJhY2spO1xuICAgICAgaWYgKGhhc0xvY2FsVHJhY2spIGNvbnRpbnVlO1xuICAgICAgY29uc3QgbG9jYWxBdWRpb1RyYWNrID0ge1xuICAgICAgICBpZDogcmVtb3RlQXVkaW9UcmFjay50cmFja0lkLnRvU3RyaW5nKCksXG4gICAgICAgIGxhYmVsOiByZW1vdGVBdWRpb1RyYWNrLm5hbWUsXG4gICAgICAgIGxhbmd1YWdlOiByZW1vdGVBdWRpb1RyYWNrLmxhbmd1YWdlLFxuICAgICAgICBraW5kOiByZW1vdGVBdWRpb1RyYWNrLnN1YnR5cGUgPz8gXCJtYWluXCIsXG4gICAgICAgIHNlbGVjdGVkOiBmYWxzZVxuICAgICAgfTtcbiAgICAgIHRoaXMuI2N0eC5hdWRpb1RyYWNrc1tMaXN0U3ltYm9sLmFkZF0obG9jYWxBdWRpb1RyYWNrLCBldmVudCk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgcmVtb3RlVGV4dFRyYWNrIG9mIHJlbW90ZVRleHRUcmFja3MpIHtcbiAgICAgIGNvbnN0IGhhc0xvY2FsVHJhY2sgPSB0aGlzLiNmaW5kTG9jYWxUcmFjayhsb2NhbFRleHRUcmFja3MsIHJlbW90ZVRleHRUcmFjayk7XG4gICAgICBpZiAoaGFzTG9jYWxUcmFjaykgY29udGludWU7XG4gICAgICBjb25zdCBsb2NhbFRleHRUcmFjayA9IHtcbiAgICAgICAgaWQ6IHJlbW90ZVRleHRUcmFjay50cmFja0lkLnRvU3RyaW5nKCksXG4gICAgICAgIHNyYzogcmVtb3RlVGV4dFRyYWNrLnRyYWNrQ29udGVudElkLFxuICAgICAgICBsYWJlbDogcmVtb3RlVGV4dFRyYWNrLm5hbWUsXG4gICAgICAgIGxhbmd1YWdlOiByZW1vdGVUZXh0VHJhY2subGFuZ3VhZ2UsXG4gICAgICAgIGtpbmQ6IHJlbW90ZVRleHRUcmFjay5zdWJ0eXBlLnRvTG93ZXJDYXNlKClcbiAgICAgIH07XG4gICAgICB0aGlzLiNjdHgudGV4dFRyYWNrcy5hZGQobG9jYWxUZXh0VHJhY2ssIGV2ZW50KTtcbiAgICB9XG4gIH1cbiAgc3luY1JlbW90ZUFjdGl2ZUlkcyhldmVudCkge1xuICAgIGlmICghdGhpcy4jY2FzdC5pc01lZGlhTG9hZGVkKSByZXR1cm47XG4gICAgY29uc3QgYWN0aXZlSWRzID0gdGhpcy4jZ2V0UmVtb3RlQWN0aXZlSWRzKCksIGVkaXRSZXF1ZXN0ID0gbmV3IGNocm9tZS5jYXN0Lm1lZGlhLkVkaXRUcmFja3NJbmZvUmVxdWVzdChhY3RpdmVJZHMpO1xuICAgIHRoaXMuI2VkaXRUcmFja3NJbmZvKGVkaXRSZXF1ZXN0KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIHtcbiAgICAgICAgdGhpcy4jY3R4LmxvZ2dlcj8uZXJyb3JHcm91cChcIlt2aWRzdGFja10gZmFpbGVkIHRvIGVkaXQgY2FzdCB0cmFja3MgaW5mb1wiKS5sYWJlbGxlZExvZyhcIkVkaXQgUmVxdWVzdFwiLCBlZGl0UmVxdWVzdCkubGFiZWxsZWRMb2coXCJFcnJvclwiLCBlcnJvcikuZGlzcGF0Y2goKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAjZWRpdFRyYWNrc0luZm8ocmVxdWVzdCkge1xuICAgIGNvbnN0IG1lZGlhID0gZ2V0Q2FzdFNlc3Npb25NZWRpYSgpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBtZWRpYT8uZWRpdFRyYWNrc0luZm8ocmVxdWVzdCwgcmVzb2x2ZSwgcmVqZWN0KSk7XG4gIH1cbiAgI2ZpbmRMb2NhbFRyYWNrKGxvY2FsVHJhY2tzLCByZW1vdGVUcmFjaykge1xuICAgIHJldHVybiBsb2NhbFRyYWNrcy5maW5kKChsb2NhbFRyYWNrKSA9PiB0aGlzLiNpc01hdGNoKGxvY2FsVHJhY2ssIHJlbW90ZVRyYWNrKSk7XG4gIH1cbiAgI2ZpbmRSZW1vdGVUcmFjayhyZW1vdGVUcmFja3MsIGxvY2FsVHJhY2spIHtcbiAgICByZXR1cm4gcmVtb3RlVHJhY2tzLmZpbmQoKHJlbW90ZVRyYWNrKSA9PiB0aGlzLiNpc01hdGNoKGxvY2FsVHJhY2ssIHJlbW90ZVRyYWNrKSk7XG4gIH1cbiAgLy8gTm90ZTogd2UgY2FuJ3QgcmVseSBvbiBpZCBtYXRjaGluZyBiZWNhdXNlIHRoZXkgd2lsbCBkaWZmZXIgYmV0d2VlbiBsb2NhbC9yZW1vdGUuIEEgbG9jYWxcbiAgLy8gdHJhY2sgaWQgbWlnaHQgbm90IGV2ZW4gZXhpc3QuXG4gICNpc01hdGNoKGxvY2FsVHJhY2ssIHJlbW90ZVRyYWNrKSB7XG4gICAgcmV0dXJuIHJlbW90ZVRyYWNrLm5hbWUgPT09IGxvY2FsVHJhY2subGFiZWwgJiYgcmVtb3RlVHJhY2subGFuZ3VhZ2UgPT09IGxvY2FsVHJhY2subGFuZ3VhZ2UgJiYgcmVtb3RlVHJhY2suc3VidHlwZS50b0xvd2VyQ2FzZSgpID09PSBsb2NhbFRyYWNrLmtpbmQudG9Mb3dlckNhc2UoKTtcbiAgfVxufVxuXG5jbGFzcyBHb29nbGVDYXN0UHJvdmlkZXIge1xuICAkJFBST1ZJREVSX1RZUEUgPSBcIkdPT0dMRV9DQVNUXCI7XG4gIHNjb3BlID0gY3JlYXRlU2NvcGUoKTtcbiAgI3BsYXllcjtcbiAgI2N0eDtcbiAgI3RyYWNrcztcbiAgI2N1cnJlbnRTcmMgPSBudWxsO1xuICAjc3RhdGUgPSBcImRpc2Nvbm5lY3RlZFwiO1xuICAjY3VycmVudFRpbWUgPSAwO1xuICAjcGxheWVkID0gMDtcbiAgI3NlZWthYmxlUmFuZ2UgPSBuZXcgVGltZVJhbmdlKDAsIDApO1xuICAjdGltZVJBRiA9IG5ldyBSQUZMb29wKHRoaXMuI29uQW5pbWF0aW9uRnJhbWUuYmluZCh0aGlzKSk7XG4gICNwbGF5ZXJFdmVudEhhbmRsZXJzO1xuICAjcmVsb2FkSW5mbyA9IG51bGw7XG4gICNpc0lkbGUgPSBmYWxzZTtcbiAgY29uc3RydWN0b3IocGxheWVyLCBjdHgpIHtcbiAgICB0aGlzLiNwbGF5ZXIgPSBwbGF5ZXI7XG4gICAgdGhpcy4jY3R4ID0gY3R4O1xuICAgIHRoaXMuI3RyYWNrcyA9IG5ldyBHb29nbGVDYXN0VHJhY2tzTWFuYWdlcihwbGF5ZXIsIGN0eCwgdGhpcy4jb25OZXdMb2NhbFRyYWNrcy5iaW5kKHRoaXMpKTtcbiAgfVxuICBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gXCJnb29nbGUtY2FzdFwiO1xuICB9XG4gIGdldCBjdXJyZW50U3JjKCkge1xuICAgIHJldHVybiB0aGlzLiNjdXJyZW50U3JjO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgR29vZ2xlIENhc3QgcmVtb3RlIHBsYXllci5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vY2FzdC9kb2NzL3JlZmVyZW5jZS93ZWJfc2VuZGVyL2Nhc3QuZnJhbWV3b3JrLlJlbW90ZVBsYXllcn1cbiAgICovXG4gIGdldCBwbGF5ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3BsYXllcjtcbiAgfVxuICAvKipcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vY2FzdC9kb2NzL3JlZmVyZW5jZS93ZWJfc2VuZGVyL2Nhc3QuZnJhbWV3b3JrLkNhc3RDb250ZXh0fVxuICAgKi9cbiAgZ2V0IGNhc3QoKSB7XG4gICAgcmV0dXJuIGdldENhc3RDb250ZXh0KCk7XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2Nhc3QvZG9jcy9yZWZlcmVuY2Uvd2ViX3NlbmRlci9jYXN0LmZyYW1ld29yay5DYXN0U2Vzc2lvbn1cbiAgICovXG4gIGdldCBzZXNzaW9uKCkge1xuICAgIHJldHVybiBnZXRDYXN0U2Vzc2lvbigpO1xuICB9XG4gIC8qKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9jYXN0L2RvY3MvcmVmZXJlbmNlL3dlYl9zZW5kZXIvY2hyb21lLmNhc3QubWVkaWEuTWVkaWF9XG4gICAqL1xuICBnZXQgbWVkaWEoKSB7XG4gICAgcmV0dXJuIGdldENhc3RTZXNzaW9uTWVkaWEoKTtcbiAgfVxuICAvKipcbiAgICogV2hldGhlciB0aGUgY3VycmVudCBHb29nbGUgQ2FzdCBzZXNzaW9uIGJlbG9uZ3MgdG8gdGhpcyBwcm92aWRlci5cbiAgICovXG4gIGdldCBoYXNBY3RpdmVTZXNzaW9uKCkge1xuICAgIHJldHVybiBoYXNBY3RpdmVDYXN0U2Vzc2lvbih0aGlzLiNjdXJyZW50U3JjKTtcbiAgfVxuICBzZXR1cCgpIHtcbiAgICB0aGlzLiNhdHRhY2hDYXN0Q29udGV4dEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy4jYXR0YWNoQ2FzdFBsYXllckV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy4jdHJhY2tzLnNldHVwKCk7XG4gICAgdGhpcy4jY3R4Lm5vdGlmeShcInByb3ZpZGVyLXNldHVwXCIsIHRoaXMpO1xuICB9XG4gICNhdHRhY2hDYXN0Q29udGV4dEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGxpc3RlbkNhc3RDb250ZXh0RXZlbnQoXG4gICAgICBjYXN0LmZyYW1ld29yay5DYXN0Q29udGV4dEV2ZW50VHlwZS5DQVNUX1NUQVRFX0NIQU5HRUQsXG4gICAgICB0aGlzLiNvbkNhc3RTdGF0ZUNoYW5nZS5iaW5kKHRoaXMpXG4gICAgKTtcbiAgfVxuICAjYXR0YWNoQ2FzdFBsYXllckV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IEV2ZW50MiA9IGNhc3QuZnJhbWV3b3JrLlJlbW90ZVBsYXllckV2ZW50VHlwZSwgaGFuZGxlcnMgPSB7XG4gICAgICBbRXZlbnQyLklTX0NPTk5FQ1RFRF9DSEFOR0VEXTogdGhpcy4jb25DYXN0U3RhdGVDaGFuZ2UsXG4gICAgICBbRXZlbnQyLklTX01FRElBX0xPQURFRF9DSEFOR0VEXTogdGhpcy4jb25NZWRpYUxvYWRlZENoYW5nZSxcbiAgICAgIFtFdmVudDIuQ0FOX0NPTlRST0xfVk9MVU1FX0NIQU5HRURdOiB0aGlzLiNvbkNhbkNvbnRyb2xWb2x1bWVDaGFuZ2UsXG4gICAgICBbRXZlbnQyLkNBTl9TRUVLX0NIQU5HRURdOiB0aGlzLiNvbkNhblNlZWtDaGFuZ2UsXG4gICAgICBbRXZlbnQyLkRVUkFUSU9OX0NIQU5HRURdOiB0aGlzLiNvbkR1cmF0aW9uQ2hhbmdlLFxuICAgICAgW0V2ZW50Mi5JU19NVVRFRF9DSEFOR0VEXTogdGhpcy4jb25Wb2x1bWVDaGFuZ2UsXG4gICAgICBbRXZlbnQyLlZPTFVNRV9MRVZFTF9DSEFOR0VEXTogdGhpcy4jb25Wb2x1bWVDaGFuZ2UsXG4gICAgICBbRXZlbnQyLklTX1BBVVNFRF9DSEFOR0VEXTogdGhpcy4jb25QYXVzZWRDaGFuZ2UsXG4gICAgICBbRXZlbnQyLkxJVkVfU0VFS0FCTEVfUkFOR0VfQ0hBTkdFRF06IHRoaXMuI29uUHJvZ3Jlc3MsXG4gICAgICBbRXZlbnQyLlBMQVlFUl9TVEFURV9DSEFOR0VEXTogdGhpcy4jb25QbGF5ZXJTdGF0ZUNoYW5nZVxuICAgIH07XG4gICAgdGhpcy4jcGxheWVyRXZlbnRIYW5kbGVycyA9IGhhbmRsZXJzO1xuICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLiNvblJlbW90ZVBsYXllckV2ZW50LmJpbmQodGhpcyk7XG4gICAgZm9yIChjb25zdCB0eXBlIG9mIGtleXNPZihoYW5kbGVycykpIHtcbiAgICAgIHRoaXMuI3BsYXllci5jb250cm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlcik7XG4gICAgfVxuICAgIG9uRGlzcG9zZSgoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IHR5cGUgb2Yga2V5c09mKGhhbmRsZXJzKSkge1xuICAgICAgICB0aGlzLiNwbGF5ZXIuY29udHJvbGxlci5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGFzeW5jIHBsYXkoKSB7XG4gICAgaWYgKCF0aGlzLiNwbGF5ZXIuaXNQYXVzZWQgJiYgIXRoaXMuI2lzSWRsZSkgcmV0dXJuO1xuICAgIGlmICh0aGlzLiNpc0lkbGUpIHtcbiAgICAgIGF3YWl0IHRoaXMuI3JlbG9hZChmYWxzZSwgMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuI3BsYXllci5jb250cm9sbGVyPy5wbGF5T3JQYXVzZSgpO1xuICB9XG4gIGFzeW5jIHBhdXNlKCkge1xuICAgIGlmICh0aGlzLiNwbGF5ZXIuaXNQYXVzZWQpIHJldHVybjtcbiAgICB0aGlzLiNwbGF5ZXIuY29udHJvbGxlcj8ucGxheU9yUGF1c2UoKTtcbiAgfVxuICBnZXRNZWRpYVN0YXR1cyhyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMubWVkaWE/LmdldFN0YXR1cyhyZXF1ZXN0LCByZXNvbHZlLCByZWplY3QpO1xuICAgIH0pO1xuICB9XG4gIHNldE11dGVkKG11dGVkKSB7XG4gICAgY29uc3QgaGFzQ2hhbmdlZCA9IG11dGVkICYmICF0aGlzLiNwbGF5ZXIuaXNNdXRlZCB8fCAhbXV0ZWQgJiYgdGhpcy4jcGxheWVyLmlzTXV0ZWQ7XG4gICAgaWYgKGhhc0NoYW5nZWQpIHRoaXMuI3BsYXllci5jb250cm9sbGVyPy5tdXRlT3JVbm11dGUoKTtcbiAgfVxuICBzZXRDdXJyZW50VGltZSh0aW1lKSB7XG4gICAgdGhpcy4jcGxheWVyLmN1cnJlbnRUaW1lID0gdGltZTtcbiAgICB0aGlzLiNjdHgubm90aWZ5KFwic2Vla2luZ1wiLCB0aW1lKTtcbiAgICB0aGlzLiNwbGF5ZXIuY29udHJvbGxlcj8uc2VlaygpO1xuICB9XG4gIHNldFZvbHVtZSh2b2x1bWUpIHtcbiAgICB0aGlzLiNwbGF5ZXIudm9sdW1lTGV2ZWwgPSB2b2x1bWU7XG4gICAgdGhpcy4jcGxheWVyLmNvbnRyb2xsZXI/LnNldFZvbHVtZUxldmVsKCk7XG4gIH1cbiAgYXN5bmMgbG9hZFNvdXJjZShzcmMpIHtcbiAgICBpZiAodGhpcy4jcmVsb2FkSW5mbz8uc3JjICE9PSBzcmMpIHRoaXMuI3JlbG9hZEluZm8gPSBudWxsO1xuICAgIGlmIChoYXNBY3RpdmVDYXN0U2Vzc2lvbihzcmMpKSB7XG4gICAgICB0aGlzLiNyZXN1bWVTZXNzaW9uKCk7XG4gICAgICB0aGlzLiNjdXJyZW50U3JjID0gc3JjO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLiNjdHgubm90aWZ5KFwibG9hZC1zdGFydFwiKTtcbiAgICBjb25zdCBsb2FkUmVxdWVzdCA9IHRoaXMuI2J1aWxkTG9hZFJlcXVlc3Qoc3JjKSwgZXJyb3JDb2RlID0gYXdhaXQgdGhpcy5zZXNzaW9uLmxvYWRNZWRpYShsb2FkUmVxdWVzdCk7XG4gICAgaWYgKGVycm9yQ29kZSkge1xuICAgICAgdGhpcy4jY3VycmVudFNyYyA9IG51bGw7XG4gICAgICB0aGlzLiNjdHgubm90aWZ5KFwiZXJyb3JcIiwgRXJyb3IoZ2V0Q2FzdEVycm9yTWVzc2FnZShlcnJvckNvZGUpKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuI2N1cnJlbnRTcmMgPSBzcmM7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLiNyZXNldCgpO1xuICAgIHRoaXMuI2VuZFNlc3Npb24oKTtcbiAgfVxuICAjcmVzZXQoKSB7XG4gICAgaWYgKCF0aGlzLiNyZWxvYWRJbmZvKSB7XG4gICAgICB0aGlzLiNwbGF5ZWQgPSAwO1xuICAgICAgdGhpcy4jc2Vla2FibGVSYW5nZSA9IG5ldyBUaW1lUmFuZ2UoMCwgMCk7XG4gICAgfVxuICAgIHRoaXMuI3RpbWVSQUYuc3RvcCgpO1xuICAgIHRoaXMuI2N1cnJlbnRUaW1lID0gMDtcbiAgICB0aGlzLiNyZWxvYWRJbmZvID0gbnVsbDtcbiAgfVxuICAjcmVzdW1lU2Vzc2lvbigpIHtcbiAgICBjb25zdCByZXN1bWVTZXNzaW9uRXZlbnQgPSBuZXcgRE9NRXZlbnQoXCJyZXN1bWUtc2Vzc2lvblwiLCB7IGRldGFpbDogdGhpcy5zZXNzaW9uIH0pO1xuICAgIHRoaXMuI29uTWVkaWFMb2FkZWRDaGFuZ2UocmVzdW1lU2Vzc2lvbkV2ZW50KTtcbiAgICBjb25zdCB7IG11dGVkLCB2b2x1bWUsIHNhdmVkU3RhdGUgfSA9IHRoaXMuI2N0eC4kc3RhdGUsIGxvY2FsU3RhdGUgPSBzYXZlZFN0YXRlKCk7XG4gICAgdGhpcy5zZXRDdXJyZW50VGltZShNYXRoLm1heCh0aGlzLiNwbGF5ZXIuY3VycmVudFRpbWUsIGxvY2FsU3RhdGU/LmN1cnJlbnRUaW1lID8/IDApKTtcbiAgICB0aGlzLnNldE11dGVkKG11dGVkKCkpO1xuICAgIHRoaXMuc2V0Vm9sdW1lKHZvbHVtZSgpKTtcbiAgICBpZiAobG9jYWxTdGF0ZT8ucGF1c2VkID09PSBmYWxzZSkgdGhpcy5wbGF5KCk7XG4gIH1cbiAgI2VuZFNlc3Npb24oKSB7XG4gICAgdGhpcy5jYXN0LmVuZEN1cnJlbnRTZXNzaW9uKHRydWUpO1xuICAgIGNvbnN0IHsgcmVtb3RlUGxheWJhY2tMb2FkZXIgfSA9IHRoaXMuI2N0eC4kc3RhdGU7XG4gICAgcmVtb3RlUGxheWJhY2tMb2FkZXIuc2V0KG51bGwpO1xuICB9XG4gICNkaXNjb25uZWN0RnJvbVJlY2VpdmVyKCkge1xuICAgIGNvbnN0IHsgc2F2ZWRTdGF0ZSB9ID0gdGhpcy4jY3R4LiRzdGF0ZTtcbiAgICBzYXZlZFN0YXRlLnNldCh7XG4gICAgICBwYXVzZWQ6IHRoaXMuI3BsYXllci5pc1BhdXNlZCxcbiAgICAgIGN1cnJlbnRUaW1lOiB0aGlzLiNwbGF5ZXIuY3VycmVudFRpbWVcbiAgICB9KTtcbiAgICB0aGlzLiNlbmRTZXNzaW9uKCk7XG4gIH1cbiAgI29uQW5pbWF0aW9uRnJhbWUoKSB7XG4gICAgdGhpcy4jb25DdXJyZW50VGltZUNoYW5nZSgpO1xuICB9XG4gICNvblJlbW90ZVBsYXllckV2ZW50KGV2ZW50KSB7XG4gICAgdGhpcy4jcGxheWVyRXZlbnRIYW5kbGVyc1tldmVudC50eXBlXS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgfVxuICAjb25DYXN0U3RhdGVDaGFuZ2UoZGF0YSkge1xuICAgIGNvbnN0IGNhc3RTdGF0ZSA9IHRoaXMuY2FzdC5nZXRDYXN0U3RhdGUoKSwgc3RhdGUgPSBjYXN0U3RhdGUgPT09IGNhc3QuZnJhbWV3b3JrLkNhc3RTdGF0ZS5DT05ORUNURUQgPyBcImNvbm5lY3RlZFwiIDogY2FzdFN0YXRlID09PSBjYXN0LmZyYW1ld29yay5DYXN0U3RhdGUuQ09OTkVDVElORyA/IFwiY29ubmVjdGluZ1wiIDogXCJkaXNjb25uZWN0ZWRcIjtcbiAgICBpZiAodGhpcy4jc3RhdGUgPT09IHN0YXRlKSByZXR1cm47XG4gICAgY29uc3QgZGV0YWlsID0geyB0eXBlOiBcImdvb2dsZS1jYXN0XCIsIHN0YXRlIH0sIHRyaWdnZXIgPSB0aGlzLiNjcmVhdGVFdmVudChkYXRhKTtcbiAgICB0aGlzLiNzdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJyZW1vdGUtcGxheWJhY2stY2hhbmdlXCIsIGRldGFpbCwgdHJpZ2dlcik7XG4gICAgaWYgKHN0YXRlID09PSBcImRpc2Nvbm5lY3RlZFwiKSB7XG4gICAgICB0aGlzLiNkaXNjb25uZWN0RnJvbVJlY2VpdmVyKCk7XG4gICAgfVxuICB9XG4gICNvbk1lZGlhTG9hZGVkQ2hhbmdlKGV2ZW50KSB7XG4gICAgY29uc3QgaGFzTG9hZGVkID0gISF0aGlzLiNwbGF5ZXIuaXNNZWRpYUxvYWRlZDtcbiAgICBpZiAoIWhhc0xvYWRlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHNyYyA9IHBlZWsodGhpcy4jY3R4LiRzdGF0ZS5zb3VyY2UpO1xuICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKHNyYyAhPT0gcGVlayh0aGlzLiNjdHguJHN0YXRlLnNvdXJjZSkgfHwgIXRoaXMuI3BsYXllci5pc01lZGlhTG9hZGVkKSByZXR1cm47XG4gICAgICB0aGlzLiNyZXNldCgpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLiNwbGF5ZXIuZHVyYXRpb247XG4gICAgICB0aGlzLiNzZWVrYWJsZVJhbmdlID0gbmV3IFRpbWVSYW5nZSgwLCBkdXJhdGlvbik7XG4gICAgICBjb25zdCBkZXRhaWwgPSB7XG4gICAgICAgIHByb3ZpZGVyOiB0aGlzLFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgYnVmZmVyZWQ6IG5ldyBUaW1lUmFuZ2UoMCwgMCksXG4gICAgICAgIHNlZWthYmxlOiB0aGlzLiNnZXRTZWVrYWJsZVJhbmdlKClcbiAgICAgIH0sIHRyaWdnZXIgPSB0aGlzLiNjcmVhdGVFdmVudChldmVudCk7XG4gICAgICB0aGlzLiNjdHgubm90aWZ5KFwibG9hZGVkLW1ldGFkYXRhXCIsIHZvaWQgMCwgdHJpZ2dlcik7XG4gICAgICB0aGlzLiNjdHgubm90aWZ5KFwibG9hZGVkLWRhdGFcIiwgdm9pZCAwLCB0cmlnZ2VyKTtcbiAgICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJjYW4tcGxheVwiLCBkZXRhaWwsIHRyaWdnZXIpO1xuICAgICAgdGhpcy4jb25DYW5Db250cm9sVm9sdW1lQ2hhbmdlKCk7XG4gICAgICB0aGlzLiNvbkNhblNlZWtDaGFuZ2UoZXZlbnQpO1xuICAgICAgY29uc3QgeyB2b2x1bWUsIG11dGVkIH0gPSB0aGlzLiNjdHguJHN0YXRlO1xuICAgICAgdGhpcy5zZXRWb2x1bWUodm9sdW1lKCkpO1xuICAgICAgdGhpcy5zZXRNdXRlZChtdXRlZCgpKTtcbiAgICAgIHRoaXMuI3RpbWVSQUYuc3RhcnQoKTtcbiAgICAgIHRoaXMuI3RyYWNrcy5zeW5jUmVtb3RlVHJhY2tzKHRyaWdnZXIpO1xuICAgICAgdGhpcy4jdHJhY2tzLnN5bmNSZW1vdGVBY3RpdmVJZHModHJpZ2dlcik7XG4gICAgfSk7XG4gIH1cbiAgI29uQ2FuQ29udHJvbFZvbHVtZUNoYW5nZSgpIHtcbiAgICB0aGlzLiNjdHguJHN0YXRlLmNhblNldFZvbHVtZS5zZXQodGhpcy4jcGxheWVyLmNhbkNvbnRyb2xWb2x1bWUpO1xuICB9XG4gICNvbkNhblNlZWtDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCB0cmlnZ2VyID0gdGhpcy4jY3JlYXRlRXZlbnQoZXZlbnQpO1xuICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJzdHJlYW0tdHlwZS1jaGFuZ2VcIiwgdGhpcy4jZ2V0U3RyZWFtVHlwZSgpLCB0cmlnZ2VyKTtcbiAgfVxuICAjZ2V0U3RyZWFtVHlwZSgpIHtcbiAgICBjb25zdCBzdHJlYW1UeXBlID0gdGhpcy4jcGxheWVyLm1lZGlhSW5mbz8uc3RyZWFtVHlwZTtcbiAgICByZXR1cm4gc3RyZWFtVHlwZSA9PT0gY2hyb21lLmNhc3QubWVkaWEuU3RyZWFtVHlwZS5MSVZFID8gdGhpcy4jcGxheWVyLmNhblNlZWsgPyBcImxpdmU6ZHZyXCIgOiBcImxpdmVcIiA6IFwib24tZGVtYW5kXCI7XG4gIH1cbiAgI29uQ3VycmVudFRpbWVDaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMuI3JlbG9hZEluZm8pIHJldHVybjtcbiAgICBjb25zdCBjdXJyZW50VGltZSA9IHRoaXMuI3BsYXllci5jdXJyZW50VGltZTtcbiAgICBpZiAoY3VycmVudFRpbWUgPT09IHRoaXMuI2N1cnJlbnRUaW1lKSByZXR1cm47XG4gICAgdGhpcy4jY3R4Lm5vdGlmeShcInRpbWUtY2hhbmdlXCIsIGN1cnJlbnRUaW1lKTtcbiAgICBpZiAoY3VycmVudFRpbWUgPiB0aGlzLiNwbGF5ZWQpIHtcbiAgICAgIHRoaXMuI3BsYXllZCA9IGN1cnJlbnRUaW1lO1xuICAgICAgdGhpcy4jb25Qcm9ncmVzcygpO1xuICAgIH1cbiAgICBpZiAodGhpcy4jY3R4LiRzdGF0ZS5zZWVraW5nKCkpIHtcbiAgICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJzZWVrZWRcIiwgY3VycmVudFRpbWUpO1xuICAgIH1cbiAgICB0aGlzLiNjdXJyZW50VGltZSA9IGN1cnJlbnRUaW1lO1xuICB9XG4gICNvbkR1cmF0aW9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLiNwbGF5ZXIuaXNNZWRpYUxvYWRlZCB8fCB0aGlzLiNyZWxvYWRJbmZvKSByZXR1cm47XG4gICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLiNwbGF5ZXIuZHVyYXRpb24sIHRyaWdnZXIgPSB0aGlzLiNjcmVhdGVFdmVudChldmVudCk7XG4gICAgdGhpcy4jc2Vla2FibGVSYW5nZSA9IG5ldyBUaW1lUmFuZ2UoMCwgZHVyYXRpb24pO1xuICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJkdXJhdGlvbi1jaGFuZ2VcIiwgZHVyYXRpb24sIHRyaWdnZXIpO1xuICB9XG4gICNvblZvbHVtZUNoYW5nZShldmVudCkge1xuICAgIGlmICghdGhpcy4jcGxheWVyLmlzTWVkaWFMb2FkZWQpIHJldHVybjtcbiAgICBjb25zdCBkZXRhaWwgPSB7XG4gICAgICBtdXRlZDogdGhpcy4jcGxheWVyLmlzTXV0ZWQsXG4gICAgICB2b2x1bWU6IHRoaXMuI3BsYXllci52b2x1bWVMZXZlbFxuICAgIH0sIHRyaWdnZXIgPSB0aGlzLiNjcmVhdGVFdmVudChldmVudCk7XG4gICAgdGhpcy4jY3R4Lm5vdGlmeShcInZvbHVtZS1jaGFuZ2VcIiwgZGV0YWlsLCB0cmlnZ2VyKTtcbiAgfVxuICAjb25QYXVzZWRDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCB0cmlnZ2VyID0gdGhpcy4jY3JlYXRlRXZlbnQoZXZlbnQpO1xuICAgIGlmICh0aGlzLiNwbGF5ZXIuaXNQYXVzZWQpIHtcbiAgICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJwYXVzZVwiLCB2b2lkIDAsIHRyaWdnZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiNjdHgubm90aWZ5KFwicGxheVwiLCB2b2lkIDAsIHRyaWdnZXIpO1xuICAgIH1cbiAgfVxuICAjb25Qcm9ncmVzcyhldmVudCkge1xuICAgIGNvbnN0IGRldGFpbCA9IHtcbiAgICAgIHNlZWthYmxlOiB0aGlzLiNnZXRTZWVrYWJsZVJhbmdlKCksXG4gICAgICBidWZmZXJlZDogbmV3IFRpbWVSYW5nZSgwLCB0aGlzLiNwbGF5ZWQpXG4gICAgfSwgdHJpZ2dlciA9IGV2ZW50ID8gdGhpcy4jY3JlYXRlRXZlbnQoZXZlbnQpIDogdm9pZCAwO1xuICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJwcm9ncmVzc1wiLCBkZXRhaWwsIHRyaWdnZXIpO1xuICB9XG4gICNvblBsYXllclN0YXRlQ2hhbmdlKGV2ZW50KSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLiNwbGF5ZXIucGxheWVyU3RhdGUsIFBsYXllclN0YXRlID0gY2hyb21lLmNhc3QubWVkaWEuUGxheWVyU3RhdGU7XG4gICAgdGhpcy4jaXNJZGxlID0gc3RhdGUgPT09IFBsYXllclN0YXRlLklETEU7XG4gICAgaWYgKHN0YXRlID09PSBQbGF5ZXJTdGF0ZS5QQVVTRUQpIHJldHVybjtcbiAgICBjb25zdCB0cmlnZ2VyID0gdGhpcy4jY3JlYXRlRXZlbnQoZXZlbnQpO1xuICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgIGNhc2UgUGxheWVyU3RhdGUuUExBWUlORzpcbiAgICAgICAgdGhpcy4jY3R4Lm5vdGlmeShcInBsYXlpbmdcIiwgdm9pZCAwLCB0cmlnZ2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFBsYXllclN0YXRlLkJVRkZFUklORzpcbiAgICAgICAgdGhpcy4jY3R4Lm5vdGlmeShcIndhaXRpbmdcIiwgdm9pZCAwLCB0cmlnZ2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFBsYXllclN0YXRlLklETEU6XG4gICAgICAgIHRoaXMuI3RpbWVSQUYuc3RvcCgpO1xuICAgICAgICB0aGlzLiNjdHgubm90aWZ5KFwicGF1c2VcIik7XG4gICAgICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJlbmRcIik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAjZ2V0U2Vla2FibGVSYW5nZSgpIHtcbiAgICByZXR1cm4gdGhpcy4jcGxheWVyLmxpdmVTZWVrYWJsZVJhbmdlID8gbmV3IFRpbWVSYW5nZSh0aGlzLiNwbGF5ZXIubGl2ZVNlZWthYmxlUmFuZ2Uuc3RhcnQsIHRoaXMuI3BsYXllci5saXZlU2Vla2FibGVSYW5nZS5lbmQpIDogdGhpcy4jc2Vla2FibGVSYW5nZTtcbiAgfVxuICAjY3JlYXRlRXZlbnQoZGV0YWlsKSB7XG4gICAgcmV0dXJuIGRldGFpbCBpbnN0YW5jZW9mIEV2ZW50ID8gZGV0YWlsIDogbmV3IERPTUV2ZW50KGRldGFpbC50eXBlLCB7IGRldGFpbCB9KTtcbiAgfVxuICAjYnVpbGRNZWRpYUluZm8oc3JjKSB7XG4gICAgY29uc3QgeyBzdHJlYW1UeXBlLCB0aXRsZSwgcG9zdGVyIH0gPSB0aGlzLiNjdHguJHN0YXRlO1xuICAgIHJldHVybiBuZXcgR29vZ2xlQ2FzdE1lZGlhSW5mb0J1aWxkZXIoc3JjKS5zZXRNZXRhZGF0YSh0aXRsZSgpLCBwb3N0ZXIoKSkuc2V0U3RyZWFtVHlwZShzdHJlYW1UeXBlKCkpLnNldFRyYWNrcyh0aGlzLiN0cmFja3MuZ2V0TG9jYWxUZXh0VHJhY2tzKCkpLmJ1aWxkKCk7XG4gIH1cbiAgI2J1aWxkTG9hZFJlcXVlc3Qoc3JjKSB7XG4gICAgY29uc3QgbWVkaWFJbmZvID0gdGhpcy4jYnVpbGRNZWRpYUluZm8oc3JjKSwgcmVxdWVzdCA9IG5ldyBjaHJvbWUuY2FzdC5tZWRpYS5Mb2FkUmVxdWVzdChtZWRpYUluZm8pLCBzYXZlZFN0YXRlID0gdGhpcy4jY3R4LiRzdGF0ZS5zYXZlZFN0YXRlKCk7XG4gICAgcmVxdWVzdC5hdXRvcGxheSA9ICh0aGlzLiNyZWxvYWRJbmZvPy5wYXVzZWQgPz8gc2F2ZWRTdGF0ZT8ucGF1c2VkKSA9PT0gZmFsc2U7XG4gICAgcmVxdWVzdC5jdXJyZW50VGltZSA9IHRoaXMuI3JlbG9hZEluZm8/LnRpbWUgPz8gc2F2ZWRTdGF0ZT8uY3VycmVudFRpbWUgPz8gMDtcbiAgICByZXR1cm4gcmVxdWVzdDtcbiAgfVxuICBhc3luYyAjcmVsb2FkKHBhdXNlZCwgdGltZSkge1xuICAgIGNvbnN0IHNyYyA9IHBlZWsodGhpcy4jY3R4LiRzdGF0ZS5zb3VyY2UpO1xuICAgIHRoaXMuI3JlbG9hZEluZm8gPSB7IHNyYywgcGF1c2VkLCB0aW1lIH07XG4gICAgYXdhaXQgdGhpcy5sb2FkU291cmNlKHNyYyk7XG4gIH1cbiAgI29uTmV3TG9jYWxUcmFja3MoKSB7XG4gICAgdGhpcy4jcmVsb2FkKHRoaXMuI3BsYXllci5pc1BhdXNlZCwgdGhpcy4jcGxheWVyLmN1cnJlbnRUaW1lKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIHtcbiAgICAgICAgdGhpcy4jY3R4LmxvZ2dlcj8uZXJyb3JHcm91cChcIlt2aWRzdGFja10gY2FzdCBmYWlsZWQgdG8gbG9hZCBuZXcgbG9jYWwgdHJhY2tzXCIpLmxhYmVsbGVkTG9nKFwiRXJyb3JcIiwgZXJyb3IpLmRpc3BhdGNoKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgR29vZ2xlQ2FzdFByb3ZpZGVyIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vidstack/react/dev/chunks/vidstack-CBaoV8XT.js\n"));

/***/ })

}]);