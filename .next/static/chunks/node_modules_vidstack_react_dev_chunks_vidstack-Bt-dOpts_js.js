"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["node_modules_vidstack_react_dev_chunks_vidstack-Bt-dOpts_js"],{

/***/ "./node_modules/@vidstack/react/dev/chunks/vidstack-Bt-dOpts.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@vidstack/react/dev/chunks/vidstack-Bt-dOpts.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VimeoProvider: function() { return /* binding */ VimeoProvider; }\n/* harmony export */ });\n/* harmony import */ var _vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vidstack-D_bWd66h.js */ \"./node_modules/@vidstack/react/dev/chunks/vidstack-D_bWd66h.js\");\n/* harmony import */ var _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./vidstack-DUlCophs.js */ \"./node_modules/@vidstack/react/dev/chunks/vidstack-DUlCophs.js\");\n/* harmony import */ var _vidstack_D8t5kEKd_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vidstack-D8t5kEKd.js */ \"./node_modules/@vidstack/react/dev/chunks/vidstack-D8t5kEKd.js\");\n/* harmony import */ var _vidstack_krOAtKMi_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./vidstack-krOAtKMi.js */ \"./node_modules/@vidstack/react/dev/chunks/vidstack-krOAtKMi.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\"use client\"\n\n;\n\n\n\n\n\n\nconst trackedVimeoEvents = [\n  \"bufferend\",\n  \"bufferstart\",\n  // 'cuechange',\n  \"durationchange\",\n  \"ended\",\n  \"enterpictureinpicture\",\n  \"error\",\n  \"fullscreenchange\",\n  \"leavepictureinpicture\",\n  \"loaded\",\n  // 'loadeddata',\n  // 'loadedmetadata',\n  // 'loadstart',\n  \"playProgress\",\n  \"loadProgress\",\n  \"pause\",\n  \"play\",\n  \"playbackratechange\",\n  // 'progress',\n  \"qualitychange\",\n  \"seeked\",\n  \"seeking\",\n  // 'texttrackchange',\n  \"timeupdate\",\n  \"volumechange\",\n  \"waiting\"\n  // 'adstarted',\n  // 'adcompleted',\n  // 'aderror',\n  // 'adskipped',\n  // 'adallcompleted',\n  // 'adclicked',\n  // 'chapterchange',\n  // 'chromecastconnected',\n  // 'remoteplaybackavailabilitychange',\n  // 'remoteplaybackconnecting',\n  // 'remoteplaybackconnect',\n  // 'remoteplaybackdisconnect',\n  // 'liveeventended',\n  // 'liveeventstarted',\n  // 'livestreamoffline',\n  // 'livestreamonline',\n];\n\nclass VimeoProvider extends _vidstack_D8t5kEKd_js__WEBPACK_IMPORTED_MODULE_1__.EmbedProvider {\n  $$PROVIDER_TYPE = \"VIMEO\";\n  scope = (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.createScope)();\n  fullscreen;\n  #ctx;\n  #videoId = (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.signal)(\"\");\n  #pro = (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.signal)(false);\n  #hash = null;\n  #currentSrc = null;\n  #fullscreenActive = false;\n  #seekableRange = new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.TimeRange(0, 0);\n  #timeRAF = new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.RAFLoop(this.#onAnimationFrame.bind(this));\n  #currentCue = null;\n  #chaptersTrack = null;\n  #promises = /* @__PURE__ */ new Map();\n  #videoInfoPromise = null;\n  constructor(iframe, ctx) {\n    super(iframe);\n    this.#ctx = ctx;\n    const self = this;\n    this.fullscreen = {\n      get active() {\n        return self.#fullscreenActive;\n      },\n      supported: true,\n      enter: () => this.#remote(\"requestFullscreen\"),\n      exit: () => this.#remote(\"exitFullscreen\")\n    };\n  }\n  /**\n   * Whether tracking session data should be enabled on the embed, including cookies and analytics.\n   * This is turned off by default to be GDPR-compliant.\n   *\n   * @defaultValue `false`\n   */\n  cookies = false;\n  title = true;\n  byline = true;\n  portrait = true;\n  color = \"00ADEF\";\n  get type() {\n    return \"vimeo\";\n  }\n  get currentSrc() {\n    return this.#currentSrc;\n  }\n  get videoId() {\n    return this.#videoId();\n  }\n  get hash() {\n    return this.#hash;\n  }\n  get isPro() {\n    return this.#pro();\n  }\n  preconnect() {\n    (0,_vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.preconnect)(this.getOrigin());\n  }\n  setup() {\n    super.setup();\n    (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.effect)(this.#watchVideoId.bind(this));\n    (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.effect)(this.#watchVideoInfo.bind(this));\n    (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.effect)(this.#watchPro.bind(this));\n    this.#ctx.notify(\"provider-setup\", this);\n  }\n  destroy() {\n    this.#reset();\n    this.fullscreen = void 0;\n    const message = \"provider destroyed\";\n    for (const promises of this.#promises.values()) {\n      for (const { reject } of promises) reject(message);\n    }\n    this.#promises.clear();\n    this.#remote(\"destroy\");\n  }\n  async play() {\n    return this.#remote(\"play\");\n  }\n  async pause() {\n    return this.#remote(\"pause\");\n  }\n  setMuted(muted) {\n    this.#remote(\"setMuted\", muted);\n  }\n  setCurrentTime(time) {\n    this.#remote(\"seekTo\", time);\n    this.#ctx.notify(\"seeking\", time);\n  }\n  setVolume(volume) {\n    this.#remote(\"setVolume\", volume);\n    this.#remote(\"setMuted\", (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.peek)(this.#ctx.$state.muted));\n  }\n  setPlaybackRate(rate) {\n    this.#remote(\"setPlaybackRate\", rate);\n  }\n  async loadSource(src) {\n    if (!(0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.isString)(src.src)) {\n      this.#currentSrc = null;\n      this.#hash = null;\n      this.#videoId.set(\"\");\n      return;\n    }\n    const { videoId, hash } = (0,_vidstack_krOAtKMi_js__WEBPACK_IMPORTED_MODULE_4__.resolveVimeoVideoId)(src.src);\n    this.#videoId.set(videoId ?? \"\");\n    this.#hash = hash ?? null;\n    this.#currentSrc = src;\n  }\n  #watchVideoId() {\n    this.#reset();\n    const videoId = this.#videoId();\n    if (!videoId) {\n      this.src.set(\"\");\n      return;\n    }\n    this.src.set(`${this.getOrigin()}/video/${videoId}`);\n    this.#ctx.notify(\"load-start\");\n  }\n  #watchVideoInfo() {\n    const videoId = this.#videoId();\n    if (!videoId) return;\n    const promise = (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.deferredPromise)(), abort = new AbortController();\n    this.#videoInfoPromise = promise;\n    (0,_vidstack_krOAtKMi_js__WEBPACK_IMPORTED_MODULE_4__.getVimeoVideoInfo)(videoId, abort, this.#hash).then((info) => {\n      promise.resolve(info);\n    }).catch((e) => {\n      promise.reject();\n      {\n        this.#ctx.logger?.warnGroup(`Failed to fetch vimeo video info for id \\`${videoId}\\`.`).labelledLog(\"Error\", e).dispatch();\n      }\n    });\n    return () => {\n      promise.reject();\n      abort.abort();\n    };\n  }\n  #watchPro() {\n    const isPro = this.#pro(), { $state, qualities } = this.#ctx;\n    $state.canSetPlaybackRate.set(isPro);\n    qualities[_vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.ListSymbol.setReadonly](!isPro);\n    if (isPro) {\n      return (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.listenEvent)(qualities, \"change\", () => {\n        if (qualities.auto) return;\n        const id = qualities.selected?.id;\n        if (id) this.#remote(\"setQuality\", id);\n      });\n    }\n  }\n  getOrigin() {\n    return \"https://player.vimeo.com\";\n  }\n  buildParams() {\n    const { keyDisabled } = this.#ctx.$props, { playsInline, nativeControls } = this.#ctx.$state, showControls = nativeControls();\n    return {\n      title: this.title,\n      byline: this.byline,\n      color: this.color,\n      portrait: this.portrait,\n      controls: showControls,\n      h: this.hash,\n      keyboard: showControls && !keyDisabled(),\n      transparent: true,\n      playsinline: playsInline(),\n      dnt: !this.cookies\n    };\n  }\n  #onAnimationFrame() {\n    this.#remote(\"getCurrentTime\");\n  }\n  // Embed will sometimes dispatch 0 at end of playback.\n  #preventTimeUpdates = false;\n  #onTimeUpdate(time, trigger) {\n    if (this.#preventTimeUpdates && time === 0) return;\n    const { realCurrentTime, paused, bufferedEnd, seekableEnd, live } = this.#ctx.$state;\n    if (realCurrentTime() === time) return;\n    const prevTime = realCurrentTime();\n    this.#ctx.notify(\"time-change\", time, trigger);\n    if (Math.abs(prevTime - time) > 1.5) {\n      this.#ctx.notify(\"seeking\", time, trigger);\n      if (!paused() && bufferedEnd() < time) {\n        this.#ctx.notify(\"waiting\", void 0, trigger);\n      }\n    }\n    if (!live() && seekableEnd() - time < 0.01) {\n      this.#ctx.notify(\"end\", void 0, trigger);\n      this.#preventTimeUpdates = true;\n      setTimeout(() => {\n        this.#preventTimeUpdates = false;\n      }, 500);\n    }\n  }\n  #onSeeked(time, trigger) {\n    this.#ctx.notify(\"seeked\", time, trigger);\n  }\n  #onLoaded(trigger) {\n    const videoId = this.#videoId();\n    this.#videoInfoPromise?.promise.then((info) => {\n      if (!info) return;\n      const { title, poster, duration, pro } = info;\n      this.#pro.set(pro);\n      this.#ctx.notify(\"title-change\", title, trigger);\n      this.#ctx.notify(\"poster-change\", poster, trigger);\n      this.#ctx.notify(\"duration-change\", duration, trigger);\n      this.#onReady(duration, trigger);\n    }).catch(() => {\n      if (videoId !== this.#videoId()) return;\n      this.#remote(\"getVideoTitle\");\n      this.#remote(\"getDuration\");\n    });\n  }\n  #onReady(duration, trigger) {\n    const { nativeControls } = this.#ctx.$state, showEmbedControls = nativeControls();\n    this.#seekableRange = new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.TimeRange(0, duration);\n    const detail = {\n      buffered: new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.TimeRange(0, 0),\n      seekable: this.#seekableRange,\n      duration\n    };\n    this.#ctx.delegate.ready(detail, trigger);\n    if (!showEmbedControls) {\n      this.#remote(\"_hideOverlay\");\n    }\n    this.#remote(\"getQualities\");\n    this.#remote(\"getChapters\");\n  }\n  #onMethod(method, data, trigger) {\n    switch (method) {\n      case \"getVideoTitle\":\n        const videoTitle = data;\n        this.#ctx.notify(\"title-change\", videoTitle, trigger);\n        break;\n      case \"getDuration\":\n        const duration = data;\n        if (!this.#ctx.$state.canPlay()) {\n          this.#onReady(duration, trigger);\n        } else {\n          this.#ctx.notify(\"duration-change\", duration, trigger);\n        }\n        break;\n      case \"getCurrentTime\":\n        this.#onTimeUpdate(data, trigger);\n        break;\n      case \"getBuffered\":\n        if ((0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(data) && data.length) {\n          this.#onLoadProgress(data[data.length - 1][1], trigger);\n        }\n        break;\n      case \"setMuted\":\n        this.#onVolumeChange((0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.peek)(this.#ctx.$state.volume), data, trigger);\n        break;\n      // case 'getTextTracks':\n      //   this.#onTextTracksChange(data as VimeoTextTrack[], trigger);\n      //   break;\n      case \"getChapters\":\n        this.#onChaptersChange(data);\n        break;\n      case \"getQualities\":\n        this.#onQualitiesChange(data, trigger);\n        break;\n    }\n    this.#getPromise(method)?.resolve();\n  }\n  #attachListeners() {\n    for (const type of trackedVimeoEvents) {\n      this.#remote(\"addEventListener\", type);\n    }\n  }\n  #onPause(trigger) {\n    this.#timeRAF.stop();\n    this.#ctx.notify(\"pause\", void 0, trigger);\n  }\n  #onPlay(trigger) {\n    this.#timeRAF.start();\n    this.#ctx.notify(\"play\", void 0, trigger);\n  }\n  #onPlayProgress(trigger) {\n    const { paused } = this.#ctx.$state;\n    if (!paused() && !this.#preventTimeUpdates) {\n      this.#ctx.notify(\"playing\", void 0, trigger);\n    }\n  }\n  #onLoadProgress(buffered, trigger) {\n    const detail = {\n      buffered: new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.TimeRange(0, buffered),\n      seekable: this.#seekableRange\n    };\n    this.#ctx.notify(\"progress\", detail, trigger);\n  }\n  #onBufferStart(trigger) {\n    this.#ctx.notify(\"waiting\", void 0, trigger);\n  }\n  #onBufferEnd(trigger) {\n    const { paused } = this.#ctx.$state;\n    if (!paused()) this.#ctx.notify(\"playing\", void 0, trigger);\n  }\n  #onWaiting(trigger) {\n    const { paused } = this.#ctx.$state;\n    if (paused()) {\n      this.#ctx.notify(\"play\", void 0, trigger);\n    }\n    this.#ctx.notify(\"waiting\", void 0, trigger);\n  }\n  #onVolumeChange(volume, muted, trigger) {\n    const detail = { volume, muted };\n    this.#ctx.notify(\"volume-change\", detail, trigger);\n  }\n  // #onTextTrackChange(track: VimeoTextTrack, trigger: Event) {\n  //   const textTrack = this.#ctx.textTracks.toArray().find((t) => t.language === track.language);\n  //   if (textTrack) textTrack.mode = track.mode;\n  // }\n  // #onTextTracksChange(tracks: VimeoTextTrack[], trigger: Event) {\n  //   for (const init of tracks) {\n  //     const textTrack = new TextTrack({\n  //       ...init,\n  //       label: init.label.replace('auto-generated', 'auto'),\n  //     });\n  //     textTrack[TextTrackSymbol.readyState] = 2;\n  //     this.#ctx.textTracks.add(textTrack, trigger);\n  //     textTrack.setMode(init.mode, trigger);\n  //   }\n  // }\n  // #onCueChange(cue: VimeoTextCue, trigger: Event) {\n  //   const { textTracks, $state } = this.#ctx,\n  //     { currentTime } = $state,\n  //     track = textTracks.selected;\n  //   if (this.#currentCue) track?.removeCue(this.#currentCue, trigger);\n  //   this.#currentCue = new window.VTTCue(currentTime(), Number.MAX_SAFE_INTEGER, cue.text);\n  //   track?.addCue(this.#currentCue, trigger);\n  // }\n  #onChaptersChange(chapters) {\n    this.#removeChapters();\n    if (!chapters.length) return;\n    const track = new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.TextTrack({\n      kind: \"chapters\",\n      default: true\n    }), { seekableEnd } = this.#ctx.$state;\n    for (let i = 0; i < chapters.length; i++) {\n      const chapter = chapters[i], nextChapter = chapters[i + 1];\n      track.addCue(\n        new window.VTTCue(\n          chapter.startTime,\n          nextChapter?.startTime ?? seekableEnd(),\n          chapter.title\n        )\n      );\n    }\n    this.#chaptersTrack = track;\n    this.#ctx.textTracks.add(track);\n  }\n  #removeChapters() {\n    if (!this.#chaptersTrack) return;\n    this.#ctx.textTracks.remove(this.#chaptersTrack);\n    this.#chaptersTrack = null;\n  }\n  #onQualitiesChange(qualities, trigger) {\n    this.#ctx.qualities[_vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.QualitySymbol.enableAuto] = qualities.some((q) => q.id === \"auto\") ? () => this.#remote(\"setQuality\", \"auto\") : void 0;\n    for (const quality of qualities) {\n      if (quality.id === \"auto\") continue;\n      const height = +quality.id.slice(0, -1);\n      if (isNaN(height)) continue;\n      this.#ctx.qualities[_vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.ListSymbol.add](\n        {\n          id: quality.id,\n          width: height * (16 / 9),\n          height,\n          codec: \"avc1,h.264\",\n          bitrate: -1\n        },\n        trigger\n      );\n    }\n    this.#onQualityChange(\n      qualities.find((q) => q.active),\n      trigger\n    );\n  }\n  #onQualityChange({ id } = {}, trigger) {\n    if (!id) return;\n    const isAuto = id === \"auto\", newQuality = this.#ctx.qualities.getById(id);\n    if (isAuto) {\n      this.#ctx.qualities[_vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.QualitySymbol.setAuto](isAuto, trigger);\n      this.#ctx.qualities[_vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.ListSymbol.select](void 0, true, trigger);\n    } else {\n      this.#ctx.qualities[_vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.ListSymbol.select](newQuality ?? void 0, true, trigger);\n    }\n  }\n  #onEvent(event, payload, trigger) {\n    switch (event) {\n      case \"ready\":\n        this.#attachListeners();\n        break;\n      case \"loaded\":\n        this.#onLoaded(trigger);\n        break;\n      case \"play\":\n        this.#onPlay(trigger);\n        break;\n      case \"playProgress\":\n        this.#onPlayProgress(trigger);\n        break;\n      case \"pause\":\n        this.#onPause(trigger);\n        break;\n      case \"loadProgress\":\n        this.#onLoadProgress(payload.seconds, trigger);\n        break;\n      case \"waiting\":\n        this.#onWaiting(trigger);\n        break;\n      case \"bufferstart\":\n        this.#onBufferStart(trigger);\n        break;\n      case \"bufferend\":\n        this.#onBufferEnd(trigger);\n        break;\n      case \"volumechange\":\n        this.#onVolumeChange(payload.volume, (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.peek)(this.#ctx.$state.muted), trigger);\n        break;\n      case \"durationchange\":\n        this.#seekableRange = new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.TimeRange(0, payload.duration);\n        this.#ctx.notify(\"duration-change\", payload.duration, trigger);\n        break;\n      case \"playbackratechange\":\n        this.#ctx.notify(\"rate-change\", payload.playbackRate, trigger);\n        break;\n      case \"qualitychange\":\n        this.#onQualityChange(payload, trigger);\n        break;\n      case \"fullscreenchange\":\n        this.#fullscreenActive = payload.fullscreen;\n        this.#ctx.notify(\"fullscreen-change\", payload.fullscreen, trigger);\n        break;\n      case \"enterpictureinpicture\":\n        this.#ctx.notify(\"picture-in-picture-change\", true, trigger);\n        break;\n      case \"leavepictureinpicture\":\n        this.#ctx.notify(\"picture-in-picture-change\", false, trigger);\n        break;\n      case \"ended\":\n        this.#ctx.notify(\"end\", void 0, trigger);\n        break;\n      case \"error\":\n        this.#onError(payload, trigger);\n        break;\n      case \"seek\":\n      case \"seeked\":\n        this.#onSeeked(payload.seconds, trigger);\n        break;\n    }\n  }\n  #onError(error, trigger) {\n    const { message, method } = error;\n    if (method === \"setPlaybackRate\") {\n      this.#pro.set(false);\n    }\n    if (method) {\n      this.#getPromise(method)?.reject(message);\n    }\n    {\n      this.#ctx.logger?.errorGroup(`[vimeo]: ${message}`).labelledLog(\"Error\", error).labelledLog(\"Provider\", this).labelledLog(\"Event\", trigger).dispatch();\n    }\n  }\n  onMessage(message, event) {\n    if (message.event) {\n      this.#onEvent(message.event, message.data, event);\n    } else if (message.method) {\n      this.#onMethod(message.method, message.value, event);\n    }\n  }\n  onLoad() {\n  }\n  async #remote(command, arg) {\n    let promise = (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_2__.deferredPromise)(), promises = this.#promises.get(command);\n    if (!promises) this.#promises.set(command, promises = []);\n    promises.push(promise);\n    this.postMessage({\n      method: command,\n      value: arg\n    });\n    return promise.promise;\n  }\n  #reset() {\n    this.#timeRAF.stop();\n    this.#seekableRange = new _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_3__.TimeRange(0, 0);\n    this.#videoInfoPromise = null;\n    this.#currentCue = null;\n    this.#pro.set(false);\n    this.#removeChapters();\n  }\n  #getPromise(command) {\n    return this.#promises.get(command)?.shift();\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpZHN0YWNrL3JlYWN0L2Rldi9jaHVua3Mvdmlkc3RhY2stQnQtZE9wdHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBRUEsQ0FBNEg7QUFDZDtBQUN2RDtBQUN5QjtBQUNqRTtBQUNXOztBQUUxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDRCQUE0QixnRUFBYTtBQUN6QztBQUNBLFVBQVUsa0VBQVc7QUFDckI7QUFDQTtBQUNBLGFBQWEsNkRBQU07QUFDbkIsU0FBUyw2REFBTTtBQUNmO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw0REFBUztBQUNoQyxpQkFBaUIsMERBQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxpRUFBVTtBQUNkO0FBQ0E7QUFDQTtBQUNBLElBQUksNkRBQU07QUFDVixJQUFJLDZEQUFNO0FBQ1YsSUFBSSw2REFBTTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFNBQVM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBRXlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9Admlkc3RhY2svcmVhY3QvZGV2L2NodW5rcy92aWRzdGFjay1CdC1kT3B0cy5qcz9lZmRiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IGNyZWF0ZVNjb3BlLCBzaWduYWwsIGVmZmVjdCwgcGVlaywgaXNTdHJpbmcsIGRlZmVycmVkUHJvbWlzZSwgbGlzdGVuRXZlbnQsIGlzQXJyYXkgfSBmcm9tICcuL3ZpZHN0YWNrLURfYldkNjZoLmpzJztcbmltcG9ydCB7IFRpbWVSYW5nZSwgUkFGTG9vcCwgcHJlY29ubmVjdCwgTGlzdFN5bWJvbCwgVGV4dFRyYWNrLCBRdWFsaXR5U3ltYm9sIH0gZnJvbSAnLi92aWRzdGFjay1EVWxDb3Bocy5qcyc7XG5pbXBvcnQgeyBFbWJlZFByb3ZpZGVyIH0gZnJvbSAnLi92aWRzdGFjay1EOHQ1a0VLZC5qcyc7XG5pbXBvcnQgeyByZXNvbHZlVmltZW9WaWRlb0lkLCBnZXRWaW1lb1ZpZGVvSW5mbyB9IGZyb20gJy4vdmlkc3RhY2sta3JPQXRLTWkuanMnO1xuaW1wb3J0ICdyZWFjdCc7XG5pbXBvcnQgJ0BmbG9hdGluZy11aS9kb20nO1xuXG5jb25zdCB0cmFja2VkVmltZW9FdmVudHMgPSBbXG4gIFwiYnVmZmVyZW5kXCIsXG4gIFwiYnVmZmVyc3RhcnRcIixcbiAgLy8gJ2N1ZWNoYW5nZScsXG4gIFwiZHVyYXRpb25jaGFuZ2VcIixcbiAgXCJlbmRlZFwiLFxuICBcImVudGVycGljdHVyZWlucGljdHVyZVwiLFxuICBcImVycm9yXCIsXG4gIFwiZnVsbHNjcmVlbmNoYW5nZVwiLFxuICBcImxlYXZlcGljdHVyZWlucGljdHVyZVwiLFxuICBcImxvYWRlZFwiLFxuICAvLyAnbG9hZGVkZGF0YScsXG4gIC8vICdsb2FkZWRtZXRhZGF0YScsXG4gIC8vICdsb2Fkc3RhcnQnLFxuICBcInBsYXlQcm9ncmVzc1wiLFxuICBcImxvYWRQcm9ncmVzc1wiLFxuICBcInBhdXNlXCIsXG4gIFwicGxheVwiLFxuICBcInBsYXliYWNrcmF0ZWNoYW5nZVwiLFxuICAvLyAncHJvZ3Jlc3MnLFxuICBcInF1YWxpdHljaGFuZ2VcIixcbiAgXCJzZWVrZWRcIixcbiAgXCJzZWVraW5nXCIsXG4gIC8vICd0ZXh0dHJhY2tjaGFuZ2UnLFxuICBcInRpbWV1cGRhdGVcIixcbiAgXCJ2b2x1bWVjaGFuZ2VcIixcbiAgXCJ3YWl0aW5nXCJcbiAgLy8gJ2Fkc3RhcnRlZCcsXG4gIC8vICdhZGNvbXBsZXRlZCcsXG4gIC8vICdhZGVycm9yJyxcbiAgLy8gJ2Fkc2tpcHBlZCcsXG4gIC8vICdhZGFsbGNvbXBsZXRlZCcsXG4gIC8vICdhZGNsaWNrZWQnLFxuICAvLyAnY2hhcHRlcmNoYW5nZScsXG4gIC8vICdjaHJvbWVjYXN0Y29ubmVjdGVkJyxcbiAgLy8gJ3JlbW90ZXBsYXliYWNrYXZhaWxhYmlsaXR5Y2hhbmdlJyxcbiAgLy8gJ3JlbW90ZXBsYXliYWNrY29ubmVjdGluZycsXG4gIC8vICdyZW1vdGVwbGF5YmFja2Nvbm5lY3QnLFxuICAvLyAncmVtb3RlcGxheWJhY2tkaXNjb25uZWN0JyxcbiAgLy8gJ2xpdmVldmVudGVuZGVkJyxcbiAgLy8gJ2xpdmVldmVudHN0YXJ0ZWQnLFxuICAvLyAnbGl2ZXN0cmVhbW9mZmxpbmUnLFxuICAvLyAnbGl2ZXN0cmVhbW9ubGluZScsXG5dO1xuXG5jbGFzcyBWaW1lb1Byb3ZpZGVyIGV4dGVuZHMgRW1iZWRQcm92aWRlciB7XG4gICQkUFJPVklERVJfVFlQRSA9IFwiVklNRU9cIjtcbiAgc2NvcGUgPSBjcmVhdGVTY29wZSgpO1xuICBmdWxsc2NyZWVuO1xuICAjY3R4O1xuICAjdmlkZW9JZCA9IHNpZ25hbChcIlwiKTtcbiAgI3BybyA9IHNpZ25hbChmYWxzZSk7XG4gICNoYXNoID0gbnVsbDtcbiAgI2N1cnJlbnRTcmMgPSBudWxsO1xuICAjZnVsbHNjcmVlbkFjdGl2ZSA9IGZhbHNlO1xuICAjc2Vla2FibGVSYW5nZSA9IG5ldyBUaW1lUmFuZ2UoMCwgMCk7XG4gICN0aW1lUkFGID0gbmV3IFJBRkxvb3AodGhpcy4jb25BbmltYXRpb25GcmFtZS5iaW5kKHRoaXMpKTtcbiAgI2N1cnJlbnRDdWUgPSBudWxsO1xuICAjY2hhcHRlcnNUcmFjayA9IG51bGw7XG4gICNwcm9taXNlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICN2aWRlb0luZm9Qcm9taXNlID0gbnVsbDtcbiAgY29uc3RydWN0b3IoaWZyYW1lLCBjdHgpIHtcbiAgICBzdXBlcihpZnJhbWUpO1xuICAgIHRoaXMuI2N0eCA9IGN0eDtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLmZ1bGxzY3JlZW4gPSB7XG4gICAgICBnZXQgYWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gc2VsZi4jZnVsbHNjcmVlbkFjdGl2ZTtcbiAgICAgIH0sXG4gICAgICBzdXBwb3J0ZWQ6IHRydWUsXG4gICAgICBlbnRlcjogKCkgPT4gdGhpcy4jcmVtb3RlKFwicmVxdWVzdEZ1bGxzY3JlZW5cIiksXG4gICAgICBleGl0OiAoKSA9PiB0aGlzLiNyZW1vdGUoXCJleGl0RnVsbHNjcmVlblwiKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFdoZXRoZXIgdHJhY2tpbmcgc2Vzc2lvbiBkYXRhIHNob3VsZCBiZSBlbmFibGVkIG9uIHRoZSBlbWJlZCwgaW5jbHVkaW5nIGNvb2tpZXMgYW5kIGFuYWx5dGljcy5cbiAgICogVGhpcyBpcyB0dXJuZWQgb2ZmIGJ5IGRlZmF1bHQgdG8gYmUgR0RQUi1jb21wbGlhbnQuXG4gICAqXG4gICAqIEBkZWZhdWx0VmFsdWUgYGZhbHNlYFxuICAgKi9cbiAgY29va2llcyA9IGZhbHNlO1xuICB0aXRsZSA9IHRydWU7XG4gIGJ5bGluZSA9IHRydWU7XG4gIHBvcnRyYWl0ID0gdHJ1ZTtcbiAgY29sb3IgPSBcIjAwQURFRlwiO1xuICBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gXCJ2aW1lb1wiO1xuICB9XG4gIGdldCBjdXJyZW50U3JjKCkge1xuICAgIHJldHVybiB0aGlzLiNjdXJyZW50U3JjO1xuICB9XG4gIGdldCB2aWRlb0lkKCkge1xuICAgIHJldHVybiB0aGlzLiN2aWRlb0lkKCk7XG4gIH1cbiAgZ2V0IGhhc2goKSB7XG4gICAgcmV0dXJuIHRoaXMuI2hhc2g7XG4gIH1cbiAgZ2V0IGlzUHJvKCkge1xuICAgIHJldHVybiB0aGlzLiNwcm8oKTtcbiAgfVxuICBwcmVjb25uZWN0KCkge1xuICAgIHByZWNvbm5lY3QodGhpcy5nZXRPcmlnaW4oKSk7XG4gIH1cbiAgc2V0dXAoKSB7XG4gICAgc3VwZXIuc2V0dXAoKTtcbiAgICBlZmZlY3QodGhpcy4jd2F0Y2hWaWRlb0lkLmJpbmQodGhpcykpO1xuICAgIGVmZmVjdCh0aGlzLiN3YXRjaFZpZGVvSW5mby5iaW5kKHRoaXMpKTtcbiAgICBlZmZlY3QodGhpcy4jd2F0Y2hQcm8uYmluZCh0aGlzKSk7XG4gICAgdGhpcy4jY3R4Lm5vdGlmeShcInByb3ZpZGVyLXNldHVwXCIsIHRoaXMpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy4jcmVzZXQoKTtcbiAgICB0aGlzLmZ1bGxzY3JlZW4gPSB2b2lkIDA7XG4gICAgY29uc3QgbWVzc2FnZSA9IFwicHJvdmlkZXIgZGVzdHJveWVkXCI7XG4gICAgZm9yIChjb25zdCBwcm9taXNlcyBvZiB0aGlzLiNwcm9taXNlcy52YWx1ZXMoKSkge1xuICAgICAgZm9yIChjb25zdCB7IHJlamVjdCB9IG9mIHByb21pc2VzKSByZWplY3QobWVzc2FnZSk7XG4gICAgfVxuICAgIHRoaXMuI3Byb21pc2VzLmNsZWFyKCk7XG4gICAgdGhpcy4jcmVtb3RlKFwiZGVzdHJveVwiKTtcbiAgfVxuICBhc3luYyBwbGF5KCkge1xuICAgIHJldHVybiB0aGlzLiNyZW1vdGUoXCJwbGF5XCIpO1xuICB9XG4gIGFzeW5jIHBhdXNlKCkge1xuICAgIHJldHVybiB0aGlzLiNyZW1vdGUoXCJwYXVzZVwiKTtcbiAgfVxuICBzZXRNdXRlZChtdXRlZCkge1xuICAgIHRoaXMuI3JlbW90ZShcInNldE11dGVkXCIsIG11dGVkKTtcbiAgfVxuICBzZXRDdXJyZW50VGltZSh0aW1lKSB7XG4gICAgdGhpcy4jcmVtb3RlKFwic2Vla1RvXCIsIHRpbWUpO1xuICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJzZWVraW5nXCIsIHRpbWUpO1xuICB9XG4gIHNldFZvbHVtZSh2b2x1bWUpIHtcbiAgICB0aGlzLiNyZW1vdGUoXCJzZXRWb2x1bWVcIiwgdm9sdW1lKTtcbiAgICB0aGlzLiNyZW1vdGUoXCJzZXRNdXRlZFwiLCBwZWVrKHRoaXMuI2N0eC4kc3RhdGUubXV0ZWQpKTtcbiAgfVxuICBzZXRQbGF5YmFja1JhdGUocmF0ZSkge1xuICAgIHRoaXMuI3JlbW90ZShcInNldFBsYXliYWNrUmF0ZVwiLCByYXRlKTtcbiAgfVxuICBhc3luYyBsb2FkU291cmNlKHNyYykge1xuICAgIGlmICghaXNTdHJpbmcoc3JjLnNyYykpIHtcbiAgICAgIHRoaXMuI2N1cnJlbnRTcmMgPSBudWxsO1xuICAgICAgdGhpcy4jaGFzaCA9IG51bGw7XG4gICAgICB0aGlzLiN2aWRlb0lkLnNldChcIlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyB2aWRlb0lkLCBoYXNoIH0gPSByZXNvbHZlVmltZW9WaWRlb0lkKHNyYy5zcmMpO1xuICAgIHRoaXMuI3ZpZGVvSWQuc2V0KHZpZGVvSWQgPz8gXCJcIik7XG4gICAgdGhpcy4jaGFzaCA9IGhhc2ggPz8gbnVsbDtcbiAgICB0aGlzLiNjdXJyZW50U3JjID0gc3JjO1xuICB9XG4gICN3YXRjaFZpZGVvSWQoKSB7XG4gICAgdGhpcy4jcmVzZXQoKTtcbiAgICBjb25zdCB2aWRlb0lkID0gdGhpcy4jdmlkZW9JZCgpO1xuICAgIGlmICghdmlkZW9JZCkge1xuICAgICAgdGhpcy5zcmMuc2V0KFwiXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNyYy5zZXQoYCR7dGhpcy5nZXRPcmlnaW4oKX0vdmlkZW8vJHt2aWRlb0lkfWApO1xuICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJsb2FkLXN0YXJ0XCIpO1xuICB9XG4gICN3YXRjaFZpZGVvSW5mbygpIHtcbiAgICBjb25zdCB2aWRlb0lkID0gdGhpcy4jdmlkZW9JZCgpO1xuICAgIGlmICghdmlkZW9JZCkgcmV0dXJuO1xuICAgIGNvbnN0IHByb21pc2UgPSBkZWZlcnJlZFByb21pc2UoKSwgYWJvcnQgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgdGhpcy4jdmlkZW9JbmZvUHJvbWlzZSA9IHByb21pc2U7XG4gICAgZ2V0VmltZW9WaWRlb0luZm8odmlkZW9JZCwgYWJvcnQsIHRoaXMuI2hhc2gpLnRoZW4oKGluZm8pID0+IHtcbiAgICAgIHByb21pc2UucmVzb2x2ZShpbmZvKTtcbiAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgcHJvbWlzZS5yZWplY3QoKTtcbiAgICAgIHtcbiAgICAgICAgdGhpcy4jY3R4LmxvZ2dlcj8ud2Fybkdyb3VwKGBGYWlsZWQgdG8gZmV0Y2ggdmltZW8gdmlkZW8gaW5mbyBmb3IgaWQgXFxgJHt2aWRlb0lkfVxcYC5gKS5sYWJlbGxlZExvZyhcIkVycm9yXCIsIGUpLmRpc3BhdGNoKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHByb21pc2UucmVqZWN0KCk7XG4gICAgICBhYm9ydC5hYm9ydCgpO1xuICAgIH07XG4gIH1cbiAgI3dhdGNoUHJvKCkge1xuICAgIGNvbnN0IGlzUHJvID0gdGhpcy4jcHJvKCksIHsgJHN0YXRlLCBxdWFsaXRpZXMgfSA9IHRoaXMuI2N0eDtcbiAgICAkc3RhdGUuY2FuU2V0UGxheWJhY2tSYXRlLnNldChpc1Bybyk7XG4gICAgcXVhbGl0aWVzW0xpc3RTeW1ib2wuc2V0UmVhZG9ubHldKCFpc1Bybyk7XG4gICAgaWYgKGlzUHJvKSB7XG4gICAgICByZXR1cm4gbGlzdGVuRXZlbnQocXVhbGl0aWVzLCBcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgIGlmIChxdWFsaXRpZXMuYXV0bykgcmV0dXJuO1xuICAgICAgICBjb25zdCBpZCA9IHF1YWxpdGllcy5zZWxlY3RlZD8uaWQ7XG4gICAgICAgIGlmIChpZCkgdGhpcy4jcmVtb3RlKFwic2V0UXVhbGl0eVwiLCBpZCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZ2V0T3JpZ2luKCkge1xuICAgIHJldHVybiBcImh0dHBzOi8vcGxheWVyLnZpbWVvLmNvbVwiO1xuICB9XG4gIGJ1aWxkUGFyYW1zKCkge1xuICAgIGNvbnN0IHsga2V5RGlzYWJsZWQgfSA9IHRoaXMuI2N0eC4kcHJvcHMsIHsgcGxheXNJbmxpbmUsIG5hdGl2ZUNvbnRyb2xzIH0gPSB0aGlzLiNjdHguJHN0YXRlLCBzaG93Q29udHJvbHMgPSBuYXRpdmVDb250cm9scygpO1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgIGJ5bGluZTogdGhpcy5ieWxpbmUsXG4gICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgIHBvcnRyYWl0OiB0aGlzLnBvcnRyYWl0LFxuICAgICAgY29udHJvbHM6IHNob3dDb250cm9scyxcbiAgICAgIGg6IHRoaXMuaGFzaCxcbiAgICAgIGtleWJvYXJkOiBzaG93Q29udHJvbHMgJiYgIWtleURpc2FibGVkKCksXG4gICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICAgIHBsYXlzaW5saW5lOiBwbGF5c0lubGluZSgpLFxuICAgICAgZG50OiAhdGhpcy5jb29raWVzXG4gICAgfTtcbiAgfVxuICAjb25BbmltYXRpb25GcmFtZSgpIHtcbiAgICB0aGlzLiNyZW1vdGUoXCJnZXRDdXJyZW50VGltZVwiKTtcbiAgfVxuICAvLyBFbWJlZCB3aWxsIHNvbWV0aW1lcyBkaXNwYXRjaCAwIGF0IGVuZCBvZiBwbGF5YmFjay5cbiAgI3ByZXZlbnRUaW1lVXBkYXRlcyA9IGZhbHNlO1xuICAjb25UaW1lVXBkYXRlKHRpbWUsIHRyaWdnZXIpIHtcbiAgICBpZiAodGhpcy4jcHJldmVudFRpbWVVcGRhdGVzICYmIHRpbWUgPT09IDApIHJldHVybjtcbiAgICBjb25zdCB7IHJlYWxDdXJyZW50VGltZSwgcGF1c2VkLCBidWZmZXJlZEVuZCwgc2Vla2FibGVFbmQsIGxpdmUgfSA9IHRoaXMuI2N0eC4kc3RhdGU7XG4gICAgaWYgKHJlYWxDdXJyZW50VGltZSgpID09PSB0aW1lKSByZXR1cm47XG4gICAgY29uc3QgcHJldlRpbWUgPSByZWFsQ3VycmVudFRpbWUoKTtcbiAgICB0aGlzLiNjdHgubm90aWZ5KFwidGltZS1jaGFuZ2VcIiwgdGltZSwgdHJpZ2dlcik7XG4gICAgaWYgKE1hdGguYWJzKHByZXZUaW1lIC0gdGltZSkgPiAxLjUpIHtcbiAgICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJzZWVraW5nXCIsIHRpbWUsIHRyaWdnZXIpO1xuICAgICAgaWYgKCFwYXVzZWQoKSAmJiBidWZmZXJlZEVuZCgpIDwgdGltZSkge1xuICAgICAgICB0aGlzLiNjdHgubm90aWZ5KFwid2FpdGluZ1wiLCB2b2lkIDAsIHRyaWdnZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWxpdmUoKSAmJiBzZWVrYWJsZUVuZCgpIC0gdGltZSA8IDAuMDEpIHtcbiAgICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJlbmRcIiwgdm9pZCAwLCB0cmlnZ2VyKTtcbiAgICAgIHRoaXMuI3ByZXZlbnRUaW1lVXBkYXRlcyA9IHRydWU7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy4jcHJldmVudFRpbWVVcGRhdGVzID0gZmFsc2U7XG4gICAgICB9LCA1MDApO1xuICAgIH1cbiAgfVxuICAjb25TZWVrZWQodGltZSwgdHJpZ2dlcikge1xuICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJzZWVrZWRcIiwgdGltZSwgdHJpZ2dlcik7XG4gIH1cbiAgI29uTG9hZGVkKHRyaWdnZXIpIHtcbiAgICBjb25zdCB2aWRlb0lkID0gdGhpcy4jdmlkZW9JZCgpO1xuICAgIHRoaXMuI3ZpZGVvSW5mb1Byb21pc2U/LnByb21pc2UudGhlbigoaW5mbykgPT4ge1xuICAgICAgaWYgKCFpbmZvKSByZXR1cm47XG4gICAgICBjb25zdCB7IHRpdGxlLCBwb3N0ZXIsIGR1cmF0aW9uLCBwcm8gfSA9IGluZm87XG4gICAgICB0aGlzLiNwcm8uc2V0KHBybyk7XG4gICAgICB0aGlzLiNjdHgubm90aWZ5KFwidGl0bGUtY2hhbmdlXCIsIHRpdGxlLCB0cmlnZ2VyKTtcbiAgICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJwb3N0ZXItY2hhbmdlXCIsIHBvc3RlciwgdHJpZ2dlcik7XG4gICAgICB0aGlzLiNjdHgubm90aWZ5KFwiZHVyYXRpb24tY2hhbmdlXCIsIGR1cmF0aW9uLCB0cmlnZ2VyKTtcbiAgICAgIHRoaXMuI29uUmVhZHkoZHVyYXRpb24sIHRyaWdnZXIpO1xuICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgIGlmICh2aWRlb0lkICE9PSB0aGlzLiN2aWRlb0lkKCkpIHJldHVybjtcbiAgICAgIHRoaXMuI3JlbW90ZShcImdldFZpZGVvVGl0bGVcIik7XG4gICAgICB0aGlzLiNyZW1vdGUoXCJnZXREdXJhdGlvblwiKTtcbiAgICB9KTtcbiAgfVxuICAjb25SZWFkeShkdXJhdGlvbiwgdHJpZ2dlcikge1xuICAgIGNvbnN0IHsgbmF0aXZlQ29udHJvbHMgfSA9IHRoaXMuI2N0eC4kc3RhdGUsIHNob3dFbWJlZENvbnRyb2xzID0gbmF0aXZlQ29udHJvbHMoKTtcbiAgICB0aGlzLiNzZWVrYWJsZVJhbmdlID0gbmV3IFRpbWVSYW5nZSgwLCBkdXJhdGlvbik7XG4gICAgY29uc3QgZGV0YWlsID0ge1xuICAgICAgYnVmZmVyZWQ6IG5ldyBUaW1lUmFuZ2UoMCwgMCksXG4gICAgICBzZWVrYWJsZTogdGhpcy4jc2Vla2FibGVSYW5nZSxcbiAgICAgIGR1cmF0aW9uXG4gICAgfTtcbiAgICB0aGlzLiNjdHguZGVsZWdhdGUucmVhZHkoZGV0YWlsLCB0cmlnZ2VyKTtcbiAgICBpZiAoIXNob3dFbWJlZENvbnRyb2xzKSB7XG4gICAgICB0aGlzLiNyZW1vdGUoXCJfaGlkZU92ZXJsYXlcIik7XG4gICAgfVxuICAgIHRoaXMuI3JlbW90ZShcImdldFF1YWxpdGllc1wiKTtcbiAgICB0aGlzLiNyZW1vdGUoXCJnZXRDaGFwdGVyc1wiKTtcbiAgfVxuICAjb25NZXRob2QobWV0aG9kLCBkYXRhLCB0cmlnZ2VyKSB7XG4gICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgIGNhc2UgXCJnZXRWaWRlb1RpdGxlXCI6XG4gICAgICAgIGNvbnN0IHZpZGVvVGl0bGUgPSBkYXRhO1xuICAgICAgICB0aGlzLiNjdHgubm90aWZ5KFwidGl0bGUtY2hhbmdlXCIsIHZpZGVvVGl0bGUsIHRyaWdnZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJnZXREdXJhdGlvblwiOlxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGRhdGE7XG4gICAgICAgIGlmICghdGhpcy4jY3R4LiRzdGF0ZS5jYW5QbGF5KCkpIHtcbiAgICAgICAgICB0aGlzLiNvblJlYWR5KGR1cmF0aW9uLCB0cmlnZ2VyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLiNjdHgubm90aWZ5KFwiZHVyYXRpb24tY2hhbmdlXCIsIGR1cmF0aW9uLCB0cmlnZ2VyKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJnZXRDdXJyZW50VGltZVwiOlxuICAgICAgICB0aGlzLiNvblRpbWVVcGRhdGUoZGF0YSwgdHJpZ2dlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImdldEJ1ZmZlcmVkXCI6XG4gICAgICAgIGlmIChpc0FycmF5KGRhdGEpICYmIGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy4jb25Mb2FkUHJvZ3Jlc3MoZGF0YVtkYXRhLmxlbmd0aCAtIDFdWzFdLCB0cmlnZ2VyKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzZXRNdXRlZFwiOlxuICAgICAgICB0aGlzLiNvblZvbHVtZUNoYW5nZShwZWVrKHRoaXMuI2N0eC4kc3RhdGUudm9sdW1lKSwgZGF0YSwgdHJpZ2dlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gY2FzZSAnZ2V0VGV4dFRyYWNrcyc6XG4gICAgICAvLyAgIHRoaXMuI29uVGV4dFRyYWNrc0NoYW5nZShkYXRhIGFzIFZpbWVvVGV4dFRyYWNrW10sIHRyaWdnZXIpO1xuICAgICAgLy8gICBicmVhaztcbiAgICAgIGNhc2UgXCJnZXRDaGFwdGVyc1wiOlxuICAgICAgICB0aGlzLiNvbkNoYXB0ZXJzQ2hhbmdlKGRhdGEpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJnZXRRdWFsaXRpZXNcIjpcbiAgICAgICAgdGhpcy4jb25RdWFsaXRpZXNDaGFuZ2UoZGF0YSwgdHJpZ2dlcik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLiNnZXRQcm9taXNlKG1ldGhvZCk/LnJlc29sdmUoKTtcbiAgfVxuICAjYXR0YWNoTGlzdGVuZXJzKCkge1xuICAgIGZvciAoY29uc3QgdHlwZSBvZiB0cmFja2VkVmltZW9FdmVudHMpIHtcbiAgICAgIHRoaXMuI3JlbW90ZShcImFkZEV2ZW50TGlzdGVuZXJcIiwgdHlwZSk7XG4gICAgfVxuICB9XG4gICNvblBhdXNlKHRyaWdnZXIpIHtcbiAgICB0aGlzLiN0aW1lUkFGLnN0b3AoKTtcbiAgICB0aGlzLiNjdHgubm90aWZ5KFwicGF1c2VcIiwgdm9pZCAwLCB0cmlnZ2VyKTtcbiAgfVxuICAjb25QbGF5KHRyaWdnZXIpIHtcbiAgICB0aGlzLiN0aW1lUkFGLnN0YXJ0KCk7XG4gICAgdGhpcy4jY3R4Lm5vdGlmeShcInBsYXlcIiwgdm9pZCAwLCB0cmlnZ2VyKTtcbiAgfVxuICAjb25QbGF5UHJvZ3Jlc3ModHJpZ2dlcikge1xuICAgIGNvbnN0IHsgcGF1c2VkIH0gPSB0aGlzLiNjdHguJHN0YXRlO1xuICAgIGlmICghcGF1c2VkKCkgJiYgIXRoaXMuI3ByZXZlbnRUaW1lVXBkYXRlcykge1xuICAgICAgdGhpcy4jY3R4Lm5vdGlmeShcInBsYXlpbmdcIiwgdm9pZCAwLCB0cmlnZ2VyKTtcbiAgICB9XG4gIH1cbiAgI29uTG9hZFByb2dyZXNzKGJ1ZmZlcmVkLCB0cmlnZ2VyKSB7XG4gICAgY29uc3QgZGV0YWlsID0ge1xuICAgICAgYnVmZmVyZWQ6IG5ldyBUaW1lUmFuZ2UoMCwgYnVmZmVyZWQpLFxuICAgICAgc2Vla2FibGU6IHRoaXMuI3NlZWthYmxlUmFuZ2VcbiAgICB9O1xuICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJwcm9ncmVzc1wiLCBkZXRhaWwsIHRyaWdnZXIpO1xuICB9XG4gICNvbkJ1ZmZlclN0YXJ0KHRyaWdnZXIpIHtcbiAgICB0aGlzLiNjdHgubm90aWZ5KFwid2FpdGluZ1wiLCB2b2lkIDAsIHRyaWdnZXIpO1xuICB9XG4gICNvbkJ1ZmZlckVuZCh0cmlnZ2VyKSB7XG4gICAgY29uc3QgeyBwYXVzZWQgfSA9IHRoaXMuI2N0eC4kc3RhdGU7XG4gICAgaWYgKCFwYXVzZWQoKSkgdGhpcy4jY3R4Lm5vdGlmeShcInBsYXlpbmdcIiwgdm9pZCAwLCB0cmlnZ2VyKTtcbiAgfVxuICAjb25XYWl0aW5nKHRyaWdnZXIpIHtcbiAgICBjb25zdCB7IHBhdXNlZCB9ID0gdGhpcy4jY3R4LiRzdGF0ZTtcbiAgICBpZiAocGF1c2VkKCkpIHtcbiAgICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJwbGF5XCIsIHZvaWQgMCwgdHJpZ2dlcik7XG4gICAgfVxuICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJ3YWl0aW5nXCIsIHZvaWQgMCwgdHJpZ2dlcik7XG4gIH1cbiAgI29uVm9sdW1lQ2hhbmdlKHZvbHVtZSwgbXV0ZWQsIHRyaWdnZXIpIHtcbiAgICBjb25zdCBkZXRhaWwgPSB7IHZvbHVtZSwgbXV0ZWQgfTtcbiAgICB0aGlzLiNjdHgubm90aWZ5KFwidm9sdW1lLWNoYW5nZVwiLCBkZXRhaWwsIHRyaWdnZXIpO1xuICB9XG4gIC8vICNvblRleHRUcmFja0NoYW5nZSh0cmFjazogVmltZW9UZXh0VHJhY2ssIHRyaWdnZXI6IEV2ZW50KSB7XG4gIC8vICAgY29uc3QgdGV4dFRyYWNrID0gdGhpcy4jY3R4LnRleHRUcmFja3MudG9BcnJheSgpLmZpbmQoKHQpID0+IHQubGFuZ3VhZ2UgPT09IHRyYWNrLmxhbmd1YWdlKTtcbiAgLy8gICBpZiAodGV4dFRyYWNrKSB0ZXh0VHJhY2subW9kZSA9IHRyYWNrLm1vZGU7XG4gIC8vIH1cbiAgLy8gI29uVGV4dFRyYWNrc0NoYW5nZSh0cmFja3M6IFZpbWVvVGV4dFRyYWNrW10sIHRyaWdnZXI6IEV2ZW50KSB7XG4gIC8vICAgZm9yIChjb25zdCBpbml0IG9mIHRyYWNrcykge1xuICAvLyAgICAgY29uc3QgdGV4dFRyYWNrID0gbmV3IFRleHRUcmFjayh7XG4gIC8vICAgICAgIC4uLmluaXQsXG4gIC8vICAgICAgIGxhYmVsOiBpbml0LmxhYmVsLnJlcGxhY2UoJ2F1dG8tZ2VuZXJhdGVkJywgJ2F1dG8nKSxcbiAgLy8gICAgIH0pO1xuICAvLyAgICAgdGV4dFRyYWNrW1RleHRUcmFja1N5bWJvbC5yZWFkeVN0YXRlXSA9IDI7XG4gIC8vICAgICB0aGlzLiNjdHgudGV4dFRyYWNrcy5hZGQodGV4dFRyYWNrLCB0cmlnZ2VyKTtcbiAgLy8gICAgIHRleHRUcmFjay5zZXRNb2RlKGluaXQubW9kZSwgdHJpZ2dlcik7XG4gIC8vICAgfVxuICAvLyB9XG4gIC8vICNvbkN1ZUNoYW5nZShjdWU6IFZpbWVvVGV4dEN1ZSwgdHJpZ2dlcjogRXZlbnQpIHtcbiAgLy8gICBjb25zdCB7IHRleHRUcmFja3MsICRzdGF0ZSB9ID0gdGhpcy4jY3R4LFxuICAvLyAgICAgeyBjdXJyZW50VGltZSB9ID0gJHN0YXRlLFxuICAvLyAgICAgdHJhY2sgPSB0ZXh0VHJhY2tzLnNlbGVjdGVkO1xuICAvLyAgIGlmICh0aGlzLiNjdXJyZW50Q3VlKSB0cmFjaz8ucmVtb3ZlQ3VlKHRoaXMuI2N1cnJlbnRDdWUsIHRyaWdnZXIpO1xuICAvLyAgIHRoaXMuI2N1cnJlbnRDdWUgPSBuZXcgd2luZG93LlZUVEN1ZShjdXJyZW50VGltZSgpLCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiwgY3VlLnRleHQpO1xuICAvLyAgIHRyYWNrPy5hZGRDdWUodGhpcy4jY3VycmVudEN1ZSwgdHJpZ2dlcik7XG4gIC8vIH1cbiAgI29uQ2hhcHRlcnNDaGFuZ2UoY2hhcHRlcnMpIHtcbiAgICB0aGlzLiNyZW1vdmVDaGFwdGVycygpO1xuICAgIGlmICghY2hhcHRlcnMubGVuZ3RoKSByZXR1cm47XG4gICAgY29uc3QgdHJhY2sgPSBuZXcgVGV4dFRyYWNrKHtcbiAgICAgIGtpbmQ6IFwiY2hhcHRlcnNcIixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9KSwgeyBzZWVrYWJsZUVuZCB9ID0gdGhpcy4jY3R4LiRzdGF0ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXB0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGFwdGVyID0gY2hhcHRlcnNbaV0sIG5leHRDaGFwdGVyID0gY2hhcHRlcnNbaSArIDFdO1xuICAgICAgdHJhY2suYWRkQ3VlKFxuICAgICAgICBuZXcgd2luZG93LlZUVEN1ZShcbiAgICAgICAgICBjaGFwdGVyLnN0YXJ0VGltZSxcbiAgICAgICAgICBuZXh0Q2hhcHRlcj8uc3RhcnRUaW1lID8/IHNlZWthYmxlRW5kKCksXG4gICAgICAgICAgY2hhcHRlci50aXRsZVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLiNjaGFwdGVyc1RyYWNrID0gdHJhY2s7XG4gICAgdGhpcy4jY3R4LnRleHRUcmFja3MuYWRkKHRyYWNrKTtcbiAgfVxuICAjcmVtb3ZlQ2hhcHRlcnMoKSB7XG4gICAgaWYgKCF0aGlzLiNjaGFwdGVyc1RyYWNrKSByZXR1cm47XG4gICAgdGhpcy4jY3R4LnRleHRUcmFja3MucmVtb3ZlKHRoaXMuI2NoYXB0ZXJzVHJhY2spO1xuICAgIHRoaXMuI2NoYXB0ZXJzVHJhY2sgPSBudWxsO1xuICB9XG4gICNvblF1YWxpdGllc0NoYW5nZShxdWFsaXRpZXMsIHRyaWdnZXIpIHtcbiAgICB0aGlzLiNjdHgucXVhbGl0aWVzW1F1YWxpdHlTeW1ib2wuZW5hYmxlQXV0b10gPSBxdWFsaXRpZXMuc29tZSgocSkgPT4gcS5pZCA9PT0gXCJhdXRvXCIpID8gKCkgPT4gdGhpcy4jcmVtb3RlKFwic2V0UXVhbGl0eVwiLCBcImF1dG9cIikgOiB2b2lkIDA7XG4gICAgZm9yIChjb25zdCBxdWFsaXR5IG9mIHF1YWxpdGllcykge1xuICAgICAgaWYgKHF1YWxpdHkuaWQgPT09IFwiYXV0b1wiKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IGhlaWdodCA9ICtxdWFsaXR5LmlkLnNsaWNlKDAsIC0xKTtcbiAgICAgIGlmIChpc05hTihoZWlnaHQpKSBjb250aW51ZTtcbiAgICAgIHRoaXMuI2N0eC5xdWFsaXRpZXNbTGlzdFN5bWJvbC5hZGRdKFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IHF1YWxpdHkuaWQsXG4gICAgICAgICAgd2lkdGg6IGhlaWdodCAqICgxNiAvIDkpLFxuICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICBjb2RlYzogXCJhdmMxLGguMjY0XCIsXG4gICAgICAgICAgYml0cmF0ZTogLTFcbiAgICAgICAgfSxcbiAgICAgICAgdHJpZ2dlclxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy4jb25RdWFsaXR5Q2hhbmdlKFxuICAgICAgcXVhbGl0aWVzLmZpbmQoKHEpID0+IHEuYWN0aXZlKSxcbiAgICAgIHRyaWdnZXJcbiAgICApO1xuICB9XG4gICNvblF1YWxpdHlDaGFuZ2UoeyBpZCB9ID0ge30sIHRyaWdnZXIpIHtcbiAgICBpZiAoIWlkKSByZXR1cm47XG4gICAgY29uc3QgaXNBdXRvID0gaWQgPT09IFwiYXV0b1wiLCBuZXdRdWFsaXR5ID0gdGhpcy4jY3R4LnF1YWxpdGllcy5nZXRCeUlkKGlkKTtcbiAgICBpZiAoaXNBdXRvKSB7XG4gICAgICB0aGlzLiNjdHgucXVhbGl0aWVzW1F1YWxpdHlTeW1ib2wuc2V0QXV0b10oaXNBdXRvLCB0cmlnZ2VyKTtcbiAgICAgIHRoaXMuI2N0eC5xdWFsaXRpZXNbTGlzdFN5bWJvbC5zZWxlY3RdKHZvaWQgMCwgdHJ1ZSwgdHJpZ2dlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI2N0eC5xdWFsaXRpZXNbTGlzdFN5bWJvbC5zZWxlY3RdKG5ld1F1YWxpdHkgPz8gdm9pZCAwLCB0cnVlLCB0cmlnZ2VyKTtcbiAgICB9XG4gIH1cbiAgI29uRXZlbnQoZXZlbnQsIHBheWxvYWQsIHRyaWdnZXIpIHtcbiAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgICBjYXNlIFwicmVhZHlcIjpcbiAgICAgICAgdGhpcy4jYXR0YWNoTGlzdGVuZXJzKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxvYWRlZFwiOlxuICAgICAgICB0aGlzLiNvbkxvYWRlZCh0cmlnZ2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGxheVwiOlxuICAgICAgICB0aGlzLiNvblBsYXkodHJpZ2dlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInBsYXlQcm9ncmVzc1wiOlxuICAgICAgICB0aGlzLiNvblBsYXlQcm9ncmVzcyh0cmlnZ2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGF1c2VcIjpcbiAgICAgICAgdGhpcy4jb25QYXVzZSh0cmlnZ2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibG9hZFByb2dyZXNzXCI6XG4gICAgICAgIHRoaXMuI29uTG9hZFByb2dyZXNzKHBheWxvYWQuc2Vjb25kcywgdHJpZ2dlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIndhaXRpbmdcIjpcbiAgICAgICAgdGhpcy4jb25XYWl0aW5nKHRyaWdnZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJidWZmZXJzdGFydFwiOlxuICAgICAgICB0aGlzLiNvbkJ1ZmZlclN0YXJ0KHRyaWdnZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJidWZmZXJlbmRcIjpcbiAgICAgICAgdGhpcy4jb25CdWZmZXJFbmQodHJpZ2dlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInZvbHVtZWNoYW5nZVwiOlxuICAgICAgICB0aGlzLiNvblZvbHVtZUNoYW5nZShwYXlsb2FkLnZvbHVtZSwgcGVlayh0aGlzLiNjdHguJHN0YXRlLm11dGVkKSwgdHJpZ2dlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImR1cmF0aW9uY2hhbmdlXCI6XG4gICAgICAgIHRoaXMuI3NlZWthYmxlUmFuZ2UgPSBuZXcgVGltZVJhbmdlKDAsIHBheWxvYWQuZHVyYXRpb24pO1xuICAgICAgICB0aGlzLiNjdHgubm90aWZ5KFwiZHVyYXRpb24tY2hhbmdlXCIsIHBheWxvYWQuZHVyYXRpb24sIHRyaWdnZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwbGF5YmFja3JhdGVjaGFuZ2VcIjpcbiAgICAgICAgdGhpcy4jY3R4Lm5vdGlmeShcInJhdGUtY2hhbmdlXCIsIHBheWxvYWQucGxheWJhY2tSYXRlLCB0cmlnZ2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicXVhbGl0eWNoYW5nZVwiOlxuICAgICAgICB0aGlzLiNvblF1YWxpdHlDaGFuZ2UocGF5bG9hZCwgdHJpZ2dlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZ1bGxzY3JlZW5jaGFuZ2VcIjpcbiAgICAgICAgdGhpcy4jZnVsbHNjcmVlbkFjdGl2ZSA9IHBheWxvYWQuZnVsbHNjcmVlbjtcbiAgICAgICAgdGhpcy4jY3R4Lm5vdGlmeShcImZ1bGxzY3JlZW4tY2hhbmdlXCIsIHBheWxvYWQuZnVsbHNjcmVlbiwgdHJpZ2dlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVudGVycGljdHVyZWlucGljdHVyZVwiOlxuICAgICAgICB0aGlzLiNjdHgubm90aWZ5KFwicGljdHVyZS1pbi1waWN0dXJlLWNoYW5nZVwiLCB0cnVlLCB0cmlnZ2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibGVhdmVwaWN0dXJlaW5waWN0dXJlXCI6XG4gICAgICAgIHRoaXMuI2N0eC5ub3RpZnkoXCJwaWN0dXJlLWluLXBpY3R1cmUtY2hhbmdlXCIsIGZhbHNlLCB0cmlnZ2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZW5kZWRcIjpcbiAgICAgICAgdGhpcy4jY3R4Lm5vdGlmeShcImVuZFwiLCB2b2lkIDAsIHRyaWdnZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICB0aGlzLiNvbkVycm9yKHBheWxvYWQsIHRyaWdnZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzZWVrXCI6XG4gICAgICBjYXNlIFwic2Vla2VkXCI6XG4gICAgICAgIHRoaXMuI29uU2Vla2VkKHBheWxvYWQuc2Vjb25kcywgdHJpZ2dlcik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAjb25FcnJvcihlcnJvciwgdHJpZ2dlcikge1xuICAgIGNvbnN0IHsgbWVzc2FnZSwgbWV0aG9kIH0gPSBlcnJvcjtcbiAgICBpZiAobWV0aG9kID09PSBcInNldFBsYXliYWNrUmF0ZVwiKSB7XG4gICAgICB0aGlzLiNwcm8uc2V0KGZhbHNlKTtcbiAgICB9XG4gICAgaWYgKG1ldGhvZCkge1xuICAgICAgdGhpcy4jZ2V0UHJvbWlzZShtZXRob2QpPy5yZWplY3QobWVzc2FnZSk7XG4gICAgfVxuICAgIHtcbiAgICAgIHRoaXMuI2N0eC5sb2dnZXI/LmVycm9yR3JvdXAoYFt2aW1lb106ICR7bWVzc2FnZX1gKS5sYWJlbGxlZExvZyhcIkVycm9yXCIsIGVycm9yKS5sYWJlbGxlZExvZyhcIlByb3ZpZGVyXCIsIHRoaXMpLmxhYmVsbGVkTG9nKFwiRXZlbnRcIiwgdHJpZ2dlcikuZGlzcGF0Y2goKTtcbiAgICB9XG4gIH1cbiAgb25NZXNzYWdlKG1lc3NhZ2UsIGV2ZW50KSB7XG4gICAgaWYgKG1lc3NhZ2UuZXZlbnQpIHtcbiAgICAgIHRoaXMuI29uRXZlbnQobWVzc2FnZS5ldmVudCwgbWVzc2FnZS5kYXRhLCBldmVudCk7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLm1ldGhvZCkge1xuICAgICAgdGhpcy4jb25NZXRob2QobWVzc2FnZS5tZXRob2QsIG1lc3NhZ2UudmFsdWUsIGV2ZW50KTtcbiAgICB9XG4gIH1cbiAgb25Mb2FkKCkge1xuICB9XG4gIGFzeW5jICNyZW1vdGUoY29tbWFuZCwgYXJnKSB7XG4gICAgbGV0IHByb21pc2UgPSBkZWZlcnJlZFByb21pc2UoKSwgcHJvbWlzZXMgPSB0aGlzLiNwcm9taXNlcy5nZXQoY29tbWFuZCk7XG4gICAgaWYgKCFwcm9taXNlcykgdGhpcy4jcHJvbWlzZXMuc2V0KGNvbW1hbmQsIHByb21pc2VzID0gW10pO1xuICAgIHByb21pc2VzLnB1c2gocHJvbWlzZSk7XG4gICAgdGhpcy5wb3N0TWVzc2FnZSh7XG4gICAgICBtZXRob2Q6IGNvbW1hbmQsXG4gICAgICB2YWx1ZTogYXJnXG4gICAgfSk7XG4gICAgcmV0dXJuIHByb21pc2UucHJvbWlzZTtcbiAgfVxuICAjcmVzZXQoKSB7XG4gICAgdGhpcy4jdGltZVJBRi5zdG9wKCk7XG4gICAgdGhpcy4jc2Vla2FibGVSYW5nZSA9IG5ldyBUaW1lUmFuZ2UoMCwgMCk7XG4gICAgdGhpcy4jdmlkZW9JbmZvUHJvbWlzZSA9IG51bGw7XG4gICAgdGhpcy4jY3VycmVudEN1ZSA9IG51bGw7XG4gICAgdGhpcy4jcHJvLnNldChmYWxzZSk7XG4gICAgdGhpcy4jcmVtb3ZlQ2hhcHRlcnMoKTtcbiAgfVxuICAjZ2V0UHJvbWlzZShjb21tYW5kKSB7XG4gICAgcmV0dXJuIHRoaXMuI3Byb21pc2VzLmdldChjb21tYW5kKT8uc2hpZnQoKTtcbiAgfVxufVxuXG5leHBvcnQgeyBWaW1lb1Byb3ZpZGVyIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vidstack/react/dev/chunks/vidstack-Bt-dOpts.js\n"));

/***/ }),

/***/ "./node_modules/@vidstack/react/dev/chunks/vidstack-D8t5kEKd.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@vidstack/react/dev/chunks/vidstack-D8t5kEKd.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmbedProvider: function() { return /* binding */ EmbedProvider; }\n/* harmony export */ });\n/* harmony import */ var _vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vidstack-DUlCophs.js */ \"./node_modules/@vidstack/react/dev/chunks/vidstack-DUlCophs.js\");\n/* harmony import */ var _vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vidstack-D_bWd66h.js */ \"./node_modules/@vidstack/react/dev/chunks/vidstack-D_bWd66h.js\");\n\"use client\"\n\n;\n\n\nclass EmbedProvider {\n  #iframe;\n  src = (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_0__.signal)(\"\");\n  /**\n   * Defines which referrer is sent when fetching the resource.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/referrerPolicy}\n   */\n  referrerPolicy = null;\n  get iframe() {\n    return this.#iframe;\n  }\n  constructor(iframe) {\n    this.#iframe = iframe;\n    iframe.setAttribute(\"frameBorder\", \"0\");\n    iframe.setAttribute(\"aria-hidden\", \"true\");\n    iframe.setAttribute(\n      \"allow\",\n      \"autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope\"\n    );\n    if (this.referrerPolicy !== null) {\n      iframe.setAttribute(\"referrerpolicy\", this.referrerPolicy);\n    }\n  }\n  setup() {\n    (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_0__.listenEvent)(window, \"message\", this.#onWindowMessage.bind(this));\n    (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_0__.listenEvent)(this.#iframe, \"load\", this.onLoad.bind(this));\n    (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_0__.effect)(this.#watchSrc.bind(this));\n  }\n  #watchSrc() {\n    const src = this.src();\n    if (!src.length) {\n      this.#iframe.setAttribute(\"src\", \"\");\n      return;\n    }\n    const params = (0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_0__.peek)(() => this.buildParams());\n    this.#iframe.setAttribute(\"src\", (0,_vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_1__.appendParamsToURL)(src, params));\n  }\n  postMessage(message, target) {\n    if (_vidstack_DUlCophs_js__WEBPACK_IMPORTED_MODULE_1__.IS_SERVER) return;\n    this.#iframe.contentWindow?.postMessage(JSON.stringify(message), target ?? \"*\");\n  }\n  #onWindowMessage(event) {\n    const origin = this.getOrigin(), isOriginMatch = (event.source === null || event.source === this.#iframe?.contentWindow) && (!(0,_vidstack_D_bWd66h_js__WEBPACK_IMPORTED_MODULE_0__.isString)(origin) || origin === event.origin);\n    if (!isOriginMatch) return;\n    try {\n      const message = JSON.parse(event.data);\n      if (message) this.onMessage(message, event);\n      return;\n    } catch (e) {\n    }\n    if (event.data) this.onMessage(event.data, event);\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpZHN0YWNrL3JlYWN0L2Rldi9jaHVua3Mvdmlkc3RhY2stRDh0NWtFS2QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBRUEsQ0FBc0U7QUFDZTs7QUFFckY7QUFDQTtBQUNBLFFBQVEsNkRBQU07QUFDZDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixZQUFZLGlCQUFpQixvQkFBb0IsZUFBZTtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGtFQUFXO0FBQ2YsSUFBSSxrRUFBVztBQUNmLElBQUksNkRBQU07QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwyREFBSTtBQUN2QixxQ0FBcUMsd0VBQWlCO0FBQ3REO0FBQ0E7QUFDQSxRQUFRLDREQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGtJQUFrSSwrREFBUTtBQUMxSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUV5QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpZHN0YWNrL3JlYWN0L2Rldi9jaHVua3Mvdmlkc3RhY2stRDh0NWtFS2QuanM/NTM4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyBhcHBlbmRQYXJhbXNUb1VSTCwgSVNfU0VSVkVSIH0gZnJvbSAnLi92aWRzdGFjay1EVWxDb3Bocy5qcyc7XG5pbXBvcnQgeyBzaWduYWwsIGxpc3RlbkV2ZW50LCBlZmZlY3QsIHBlZWssIGlzU3RyaW5nIH0gZnJvbSAnLi92aWRzdGFjay1EX2JXZDY2aC5qcyc7XG5cbmNsYXNzIEVtYmVkUHJvdmlkZXIge1xuICAjaWZyYW1lO1xuICBzcmMgPSBzaWduYWwoXCJcIik7XG4gIC8qKlxuICAgKiBEZWZpbmVzIHdoaWNoIHJlZmVycmVyIGlzIHNlbnQgd2hlbiBmZXRjaGluZyB0aGUgcmVzb3VyY2UuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MSUZyYW1lRWxlbWVudC9yZWZlcnJlclBvbGljeX1cbiAgICovXG4gIHJlZmVycmVyUG9saWN5ID0gbnVsbDtcbiAgZ2V0IGlmcmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy4jaWZyYW1lO1xuICB9XG4gIGNvbnN0cnVjdG9yKGlmcmFtZSkge1xuICAgIHRoaXMuI2lmcmFtZSA9IGlmcmFtZTtcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwiZnJhbWVCb3JkZXJcIiwgXCIwXCIpO1xuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcbiAgICAgIFwiYWxsb3dcIixcbiAgICAgIFwiYXV0b3BsYXk7IGZ1bGxzY3JlZW47IGVuY3J5cHRlZC1tZWRpYTsgcGljdHVyZS1pbi1waWN0dXJlOyBhY2NlbGVyb21ldGVyOyBneXJvc2NvcGVcIlxuICAgICk7XG4gICAgaWYgKHRoaXMucmVmZXJyZXJQb2xpY3kgIT09IG51bGwpIHtcbiAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJyZWZlcnJlcnBvbGljeVwiLCB0aGlzLnJlZmVycmVyUG9saWN5KTtcbiAgICB9XG4gIH1cbiAgc2V0dXAoKSB7XG4gICAgbGlzdGVuRXZlbnQod2luZG93LCBcIm1lc3NhZ2VcIiwgdGhpcy4jb25XaW5kb3dNZXNzYWdlLmJpbmQodGhpcykpO1xuICAgIGxpc3RlbkV2ZW50KHRoaXMuI2lmcmFtZSwgXCJsb2FkXCIsIHRoaXMub25Mb2FkLmJpbmQodGhpcykpO1xuICAgIGVmZmVjdCh0aGlzLiN3YXRjaFNyYy5iaW5kKHRoaXMpKTtcbiAgfVxuICAjd2F0Y2hTcmMoKSB7XG4gICAgY29uc3Qgc3JjID0gdGhpcy5zcmMoKTtcbiAgICBpZiAoIXNyYy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuI2lmcmFtZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCJcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBhcmFtcyA9IHBlZWsoKCkgPT4gdGhpcy5idWlsZFBhcmFtcygpKTtcbiAgICB0aGlzLiNpZnJhbWUuc2V0QXR0cmlidXRlKFwic3JjXCIsIGFwcGVuZFBhcmFtc1RvVVJMKHNyYywgcGFyYW1zKSk7XG4gIH1cbiAgcG9zdE1lc3NhZ2UobWVzc2FnZSwgdGFyZ2V0KSB7XG4gICAgaWYgKElTX1NFUlZFUikgcmV0dXJuO1xuICAgIHRoaXMuI2lmcmFtZS5jb250ZW50V2luZG93Py5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShtZXNzYWdlKSwgdGFyZ2V0ID8/IFwiKlwiKTtcbiAgfVxuICAjb25XaW5kb3dNZXNzYWdlKGV2ZW50KSB7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4oKSwgaXNPcmlnaW5NYXRjaCA9IChldmVudC5zb3VyY2UgPT09IG51bGwgfHwgZXZlbnQuc291cmNlID09PSB0aGlzLiNpZnJhbWU/LmNvbnRlbnRXaW5kb3cpICYmICghaXNTdHJpbmcob3JpZ2luKSB8fCBvcmlnaW4gPT09IGV2ZW50Lm9yaWdpbik7XG4gICAgaWYgKCFpc09yaWdpbk1hdGNoKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgaWYgKG1lc3NhZ2UpIHRoaXMub25NZXNzYWdlKG1lc3NhZ2UsIGV2ZW50KTtcbiAgICAgIHJldHVybjtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgfVxuICAgIGlmIChldmVudC5kYXRhKSB0aGlzLm9uTWVzc2FnZShldmVudC5kYXRhLCBldmVudCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgRW1iZWRQcm92aWRlciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vidstack/react/dev/chunks/vidstack-D8t5kEKd.js\n"));

/***/ }),

/***/ "./node_modules/@vidstack/react/dev/chunks/vidstack-krOAtKMi.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@vidstack/react/dev/chunks/vidstack-krOAtKMi.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getVimeoVideoInfo: function() { return /* binding */ getVimeoVideoInfo; },\n/* harmony export */   resolveVimeoVideoId: function() { return /* binding */ resolveVimeoVideoId; }\n/* harmony export */ });\n\"use client\"\n\nconst videoIdRE = /(?:https:\\/\\/)?(?:player\\.)?vimeo(?:\\.com)?\\/(?:video\\/)?(\\d+)(?:(?:\\?hash=|\\?h=|\\/)(.*))?/;\nconst infoCache = /* @__PURE__ */ new Map();\nconst pendingFetch = /* @__PURE__ */ new Map();\nfunction resolveVimeoVideoId(src) {\n  const matches = src.match(videoIdRE);\n  return { videoId: matches?.[1], hash: matches?.[2] };\n}\nasync function getVimeoVideoInfo(videoId, abort, videoHash) {\n  if (infoCache.has(videoId)) return infoCache.get(videoId);\n  if (pendingFetch.has(videoId)) return pendingFetch.get(videoId);\n  let oembedSrc = `https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/${videoId}`;\n  if (videoHash) {\n    oembedSrc = oembedSrc.concat(`?h=${videoHash}`);\n  }\n  const promise = window.fetch(oembedSrc, {\n    mode: \"cors\",\n    signal: abort.signal\n  }).then((response) => response.json()).then((data) => {\n    const thumnailRegex = /vimeocdn.com\\/video\\/(.*)?_/, thumbnailId = data?.thumbnail_url?.match(thumnailRegex)?.[1], poster = thumbnailId ? `https://i.vimeocdn.com/video/${thumbnailId}_1920x1080.webp` : \"\", info = {\n      title: data?.title ?? \"\",\n      duration: data?.duration ?? 0,\n      poster,\n      pro: data.account_type !== \"basic\"\n    };\n    infoCache.set(videoId, info);\n    return info;\n  }).finally(() => pendingFetch.delete(videoId));\n  pendingFetch.set(videoId, promise);\n  return promise;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpZHN0YWNrL3JlYWN0L2Rldi9jaHVua3Mvdmlkc3RhY2sta3JPQXRLTWkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEZBQTBGLFFBQVE7QUFDbEc7QUFDQSx1Q0FBdUMsVUFBVTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCw4S0FBOEssWUFBWTtBQUMxTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRWtEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9Admlkc3RhY2svcmVhY3QvZGV2L2NodW5rcy92aWRzdGFjay1rck9BdEtNaS5qcz82NjE3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmNvbnN0IHZpZGVvSWRSRSA9IC8oPzpodHRwczpcXC9cXC8pPyg/OnBsYXllclxcLik/dmltZW8oPzpcXC5jb20pP1xcLyg/OnZpZGVvXFwvKT8oXFxkKykoPzooPzpcXD9oYXNoPXxcXD9oPXxcXC8pKC4qKSk/LztcbmNvbnN0IGluZm9DYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5jb25zdCBwZW5kaW5nRmV0Y2ggPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuZnVuY3Rpb24gcmVzb2x2ZVZpbWVvVmlkZW9JZChzcmMpIHtcbiAgY29uc3QgbWF0Y2hlcyA9IHNyYy5tYXRjaCh2aWRlb0lkUkUpO1xuICByZXR1cm4geyB2aWRlb0lkOiBtYXRjaGVzPy5bMV0sIGhhc2g6IG1hdGNoZXM/LlsyXSB9O1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0VmltZW9WaWRlb0luZm8odmlkZW9JZCwgYWJvcnQsIHZpZGVvSGFzaCkge1xuICBpZiAoaW5mb0NhY2hlLmhhcyh2aWRlb0lkKSkgcmV0dXJuIGluZm9DYWNoZS5nZXQodmlkZW9JZCk7XG4gIGlmIChwZW5kaW5nRmV0Y2guaGFzKHZpZGVvSWQpKSByZXR1cm4gcGVuZGluZ0ZldGNoLmdldCh2aWRlb0lkKTtcbiAgbGV0IG9lbWJlZFNyYyA9IGBodHRwczovL3ZpbWVvLmNvbS9hcGkvb2VtYmVkLmpzb24/dXJsPWh0dHBzOi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby8ke3ZpZGVvSWR9YDtcbiAgaWYgKHZpZGVvSGFzaCkge1xuICAgIG9lbWJlZFNyYyA9IG9lbWJlZFNyYy5jb25jYXQoYD9oPSR7dmlkZW9IYXNofWApO1xuICB9XG4gIGNvbnN0IHByb21pc2UgPSB3aW5kb3cuZmV0Y2gob2VtYmVkU3JjLCB7XG4gICAgbW9kZTogXCJjb3JzXCIsXG4gICAgc2lnbmFsOiBhYm9ydC5zaWduYWxcbiAgfSkudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSkudGhlbigoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHRodW1uYWlsUmVnZXggPSAvdmltZW9jZG4uY29tXFwvdmlkZW9cXC8oLiopP18vLCB0aHVtYm5haWxJZCA9IGRhdGE/LnRodW1ibmFpbF91cmw/Lm1hdGNoKHRodW1uYWlsUmVnZXgpPy5bMV0sIHBvc3RlciA9IHRodW1ibmFpbElkID8gYGh0dHBzOi8vaS52aW1lb2Nkbi5jb20vdmlkZW8vJHt0aHVtYm5haWxJZH1fMTkyMHgxMDgwLndlYnBgIDogXCJcIiwgaW5mbyA9IHtcbiAgICAgIHRpdGxlOiBkYXRhPy50aXRsZSA/PyBcIlwiLFxuICAgICAgZHVyYXRpb246IGRhdGE/LmR1cmF0aW9uID8/IDAsXG4gICAgICBwb3N0ZXIsXG4gICAgICBwcm86IGRhdGEuYWNjb3VudF90eXBlICE9PSBcImJhc2ljXCJcbiAgICB9O1xuICAgIGluZm9DYWNoZS5zZXQodmlkZW9JZCwgaW5mbyk7XG4gICAgcmV0dXJuIGluZm87XG4gIH0pLmZpbmFsbHkoKCkgPT4gcGVuZGluZ0ZldGNoLmRlbGV0ZSh2aWRlb0lkKSk7XG4gIHBlbmRpbmdGZXRjaC5zZXQodmlkZW9JZCwgcHJvbWlzZSk7XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5leHBvcnQgeyBnZXRWaW1lb1ZpZGVvSW5mbywgcmVzb2x2ZVZpbWVvVmlkZW9JZCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vidstack/react/dev/chunks/vidstack-krOAtKMi.js\n"));

/***/ })

}]);