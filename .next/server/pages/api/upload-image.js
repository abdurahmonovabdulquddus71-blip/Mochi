"use strict";(()=>{var e={};e.id=512,e.ids=[512],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6705:e=>{e.exports=import("formidable")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},9913:(e,t,r)=>{r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{config:()=>l,default:()=>d,routeModule:()=>p});var a=r(1802),i=r(7153),o=r(6249),s=r(7757),u=e([s]);s=(u.then?(await u)():u)[0];let d=(0,o.l)(s,"default"),l=(0,o.l)(s,"config"),p=new a.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/upload-image",pathname:"/api/upload-image",bundlePath:"",filename:""},userland:s});n()}catch(e){n(e)}})},7757:(e,t,r)=>{r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{config:()=>p,default:()=>l});var a=r(6705),i=r(7147),o=r.n(i),s=r(1017),u=r.n(s),d=e([a]);a=(d.then?(await d)():d)[0];let p={api:{bodyParser:!1}};async function l(e,t){if("POST"!==e.method)return t.status(405).json({error:"Method not allowed"});let r=u().join(process.cwd(),"public","uploads","images");o().existsSync(r)||o().mkdirSync(r,{recursive:!0}),(0,a.default)({uploadDir:r,keepExtensions:!0,maxFileSize:10485760,filename:(e,t,r)=>`${Date.now()}_${Math.random().toString(36).substring(7)}${t}`}).parse(e,async(e,r,n)=>{if(e)return t.status(500).json({error:e.message});let a=n.file,i=u().basename(a.filepath),o=`/uploads/images/${i}`;return t.status(200).json({url:o})})}n()}catch(e){n(e)}})},7153:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},1802:(e,t,r)=>{e.exports=r(145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var r=t(t.s=9913);module.exports=r})();